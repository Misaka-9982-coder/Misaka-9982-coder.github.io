<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content=""><title>CS61A Lab 12 | Misaka's blog</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/latest/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/grids-responsive-min.min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/latest/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><script type="text/javascript" src="//lib.baomitu.com/clipboard.js/latest/clipboard.min.js"></script><script type="text/javascript" src="//lib.baomitu.com/toastr.js/latest/toastr.min.js"></script><link rel="stylesheet" href="//lib.baomitu.com/toastr.js/latest/toastr.min.css"><script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle = window.adsbygoogle || []).push({google_ad_client: "ca-pub-5060306535186583", enable_page_level_ads: true});</script><meta name="generator" content="Hexo 6.0.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">CS61A Lab 12</h1><a id="logo" href="/.">Misaka's blog</a><p class="description"></p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a><a href="/messageboard/"><i class="fa fa fa-comments"> 留言版</i></a><a href="/link/"><i class="fa fa fa-external-link"> 友链</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">CS61A Lab 12</h1><div class="post-meta">2022-07-30<span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> 阅读</span></span><span class="post-time"><span class="post-meta-item-text"> | </span><span class="post-meta-item-icon"><i class="fa fa-keyboard-o"></i><span class="post-count"> 1.8k</span><span class="post-meta-item-text"> 字</span></span></span><span class="post-time"> | <span class="post-meta-item-icon"><i class="fa fa-clock-o"></i><span class="post-count"> 11</span><span class="post-meta-item-text"> 分钟</span></span></span></div><div class="post-content"><h1>Lab 12: Scheme Data Abstraction <a target="_blank" rel="noopener" href="https://inst.eecs.berkeley.edu/~cs61a/sp22/lab/lab12/lab12.zip">lab12.zip</a></h1>
<p><em>Due by 11:59pm on Wednesday, April 13.</em></p>
<h2 id="Starter-Files-3">Starter Files</h2>
<p>Download <a target="_blank" rel="noopener" href="https://inst.eecs.berkeley.edu/~cs61a/sp22/lab/lab12/lab12.zip">lab12.zip</a>. Inside the archive, you will find starter files for the questions in this lab, along with a copy of the <a target="_blank" rel="noopener" href="https://inst.eecs.berkeley.edu/~cs61a/sp22/lab/lab12/ok">Ok</a> autograder.</p>
<h1>Topics</h1>
<p>Consult this section if you need a refresher on the material for this lab. It’s okay to skip directly to <a target="_blank" rel="noopener" href="https://inst.eecs.berkeley.edu/~cs61a/sp22/lab/lab12/#required-questions">the questions</a> and refer back here should you get stuck.</p>
<h2 id="Data-Abstractions">Data Abstractions</h2>
<p>Data Abstractions</p>
<h2 id="Example-Data-Abstractions">Example Data Abstractions</h2>
<h3 id="Rational"><code>Rational</code></h3>
<p>Recall that a <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Rational_number">rational number</a> is any number that can be expressed as <em>p / q</em>, where <em>p</em> and <em>q</em> are integers.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">; Creates the rational number n/d (Assume n, d are integers and d != 0)</span><br><span class="line">; Note that the constructor simplifies the numerator and denominator.</span><br><span class="line">(rational n d)</span><br><span class="line"></span><br><span class="line">; Gets the numerator of rational number r</span><br><span class="line">(numer r) </span><br><span class="line"></span><br><span class="line">; Gets the denominator of rational number r</span><br><span class="line">(denom r)</span><br><span class="line"></span><br><span class="line">; Adds two rational numbers x and y</span><br><span class="line">(add-rational x y)</span><br><span class="line"></span><br><span class="line">; Multiplies two rational numbers x and y</span><br><span class="line">(mul-rational x y)</span><br></pre></td></tr></table></figure>
<h3 id="Trees"><code>Trees</code></h3>
<p>Below is a Scheme-ified data abstraction of the Tree class we’ve been working with this semester.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">; Constructs tree given label and list of branches</span><br><span class="line">(tree label branches)</span><br><span class="line"></span><br><span class="line">; Returns the label of the tree</span><br><span class="line">(label t)</span><br><span class="line"></span><br><span class="line">; Returns the list of branches of the given tree</span><br><span class="line">(branches t)</span><br><span class="line"></span><br><span class="line">; Returns #t if t is a leaf, #f otherwise</span><br><span class="line">(is-leaf t)</span><br></pre></td></tr></table></figure>
<h1>Questions</h1>
<h2 id="What-Would-Scheme-Do">What Would Scheme Do?</h2>
<h3 id="Q1-WWSD-Data-Abstractions">Q1: WWSD: Data Abstractions</h3>
<p>Let’s familiarize ourselves with some Scheme data abstractions!</p>
<blockquote>
<p>If you need a refresher on the <code>tree</code> and <code>rational</code> abstractions, refer to this lab’s introduction or <a target="_blank" rel="noopener" href="https://cs61a.org/lecture/lec31/">Monday 04/11’s lecture</a>.</p>
</blockquote>
<p>Use Ok to test your knowledge with the following “What Would Python Display?” questions:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 ok -q abstractions -u✂️</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">scm&gt; (load rational.scm)</span><br><span class="line">scm&gt; (define x (rational 2 5))</span><br><span class="line"></span><br><span class="line">scm&gt; (numer x)</span><br><span class="line"></span><br><span class="line">scm&gt; (denom x)</span><br><span class="line"></span><br><span class="line">scm&gt; (define y (rational 1 4))</span><br><span class="line"></span><br><span class="line">scm&gt; (define z1 (add-rational x y))</span><br><span class="line"></span><br><span class="line">scm&gt; (numer z1)</span><br><span class="line"></span><br><span class="line">scm&gt; (denom z1)</span><br><span class="line"></span><br><span class="line">scm&gt; (define z2 (mul-rational x y)) ; don&#x27;t forget to reduce the rational!</span><br><span class="line"></span><br><span class="line">scm&gt; (numer z2)</span><br><span class="line"></span><br><span class="line">scm&gt; (denom z2)</span><br><span class="line">scm&gt; (load tree.scm)</span><br><span class="line">scm&gt; (define t (tree 1 (list (tree 2 nil)) ))</span><br><span class="line"></span><br><span class="line">scm&gt; (label t)</span><br><span class="line"></span><br><span class="line">scm&gt; (length (branches t))</span><br><span class="line"></span><br><span class="line">scm&gt; (define child (car (branches t)))</span><br><span class="line"></span><br><span class="line">scm&gt; (label child)</span><br><span class="line"></span><br><span class="line">scm&gt; (is-leaf child)</span><br><span class="line"></span><br><span class="line">scm&gt; (branches child)</span><br><span class="line">scm&gt; (load tree.scm)</span><br><span class="line">scm&gt; (define b1 (tree 5 (list (tree 6 nil) (tree 7 nil)) )) </span><br><span class="line"></span><br><span class="line">scm&gt; (map is-leaf (branches b1))    ; draw the tree if you get stuck!</span><br><span class="line"></span><br><span class="line">scm&gt; (define b2 (tree 8 (list (tree 9 (list (tree 10 nil)) )) )) </span><br><span class="line"></span><br><span class="line">scm&gt; (map is-leaf (branches b2))    ; draw the tree if you get stuck!</span><br><span class="line"></span><br><span class="line">scm&gt; (define t (tree 11 (list b1 b2)))</span><br><span class="line"></span><br><span class="line">scm&gt; (label t)</span><br><span class="line"></span><br><span class="line">scm&gt; (map (lambda (b) (label b)) (branches t)) ; draw the tree if you get stuck!</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br></pre></td><td class="code"><pre><span class="line">$ python3 ok -q abstractions -u</span><br><span class="line">=====================================================================</span><br><span class="line">Assignment: Lab 12</span><br><span class="line">OK, version v1.18.1</span><br><span class="line">=====================================================================</span><br><span class="line"></span><br><span class="line">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span><br><span class="line">Unlocking tests</span><br><span class="line"></span><br><span class="line">At each &quot;? &quot;, type what you would expect the output to be.</span><br><span class="line">Type exit() to quit</span><br><span class="line"></span><br><span class="line">---------------------------------------------------------------------</span><br><span class="line">What Would Scheme Display? &gt; Suite 1 &gt; Case 1</span><br><span class="line">(cases remaining: 3)</span><br><span class="line"></span><br><span class="line">scm&gt; (load &quot;./lab12.scm&quot;)</span><br><span class="line">scm&gt; (define x (rational 2 5))</span><br><span class="line">? x</span><br><span class="line">-- OK! --</span><br><span class="line"></span><br><span class="line">scm&gt; (numer x)</span><br><span class="line">? 2</span><br><span class="line">-- OK! --</span><br><span class="line"></span><br><span class="line">scm&gt; (denom x)</span><br><span class="line">? 5</span><br><span class="line">-- OK! --</span><br><span class="line"></span><br><span class="line">scm&gt; (define y (rational 1 4))</span><br><span class="line">? y</span><br><span class="line">-- OK! --</span><br><span class="line"></span><br><span class="line">scm&gt; (define z1 (add-rational x y))</span><br><span class="line">? z1</span><br><span class="line">-- OK! --</span><br><span class="line"></span><br><span class="line">scm&gt; (numer z1)</span><br><span class="line">? 13</span><br><span class="line">-- OK! --</span><br><span class="line"></span><br><span class="line">scm&gt; (denom z1)</span><br><span class="line">? 20</span><br><span class="line">-- OK! --</span><br><span class="line"></span><br><span class="line">scm&gt; (define z2 (mul-rational x y))</span><br><span class="line">? z2</span><br><span class="line">-- OK! --</span><br><span class="line"></span><br><span class="line">scm&gt; (numer z2)</span><br><span class="line">? 1</span><br><span class="line">-- OK! --</span><br><span class="line"></span><br><span class="line">scm&gt; (denom z2)</span><br><span class="line">? 10</span><br><span class="line">-- OK! --</span><br><span class="line"></span><br><span class="line">---------------------------------------------------------------------</span><br><span class="line">What Would Scheme Display? &gt; Suite 1 &gt; Case 2</span><br><span class="line">(cases remaining: 2)</span><br><span class="line"></span><br><span class="line">scm&gt; (load &quot;./lab12.scm&quot;)</span><br><span class="line">scm&gt; (define t (tree 1 (list (tree 2 nil))))</span><br><span class="line">? t</span><br><span class="line">-- OK! --</span><br><span class="line"></span><br><span class="line">scm&gt; (label t)</span><br><span class="line">? 1</span><br><span class="line">-- OK! --</span><br><span class="line"></span><br><span class="line">scm&gt; (length (branches t))</span><br><span class="line">? 1</span><br><span class="line">-- OK! --</span><br><span class="line"></span><br><span class="line">scm&gt; (define child (car (branches t)))</span><br><span class="line">? child</span><br><span class="line">-- OK! --</span><br><span class="line"></span><br><span class="line">scm&gt; (label child)</span><br><span class="line">? 2</span><br><span class="line">-- OK! --</span><br><span class="line"></span><br><span class="line">scm&gt; (is-leaf child)</span><br><span class="line">? #t</span><br><span class="line">-- OK! --</span><br><span class="line"></span><br><span class="line">scm&gt; (branches child)</span><br><span class="line">? ()</span><br><span class="line">-- OK! --</span><br><span class="line"></span><br><span class="line">---------------------------------------------------------------------</span><br><span class="line">What Would Scheme Display? &gt; Suite 1 &gt; Case 3</span><br><span class="line">(cases remaining: 1)</span><br><span class="line"></span><br><span class="line">scm&gt; (load &quot;./lab12.scm&quot;)</span><br><span class="line">scm&gt; (define b1 (tree 5 (list (tree 6 nil) (tree 7 nil)) )) </span><br><span class="line">? b1</span><br><span class="line">-- OK! --</span><br><span class="line"></span><br><span class="line">scm&gt; (map is-leaf (branches b1))  ; draw the tree if you get stuck!</span><br><span class="line">? (#t #t)</span><br><span class="line">-- OK! --</span><br><span class="line"></span><br><span class="line">scm&gt; (define b2 (tree 8 (list (tree 9 (list (tree 10 nil)) )) )) </span><br><span class="line">? b2</span><br><span class="line">-- OK! --</span><br><span class="line"></span><br><span class="line">scm&gt; (map is-leaf (branches b2))  ; draw the tree if you get stuck!</span><br><span class="line">? (#f)</span><br><span class="line">-- OK! --</span><br><span class="line"></span><br><span class="line">scm&gt; (define t (tree 11 (list b1 b2)))</span><br><span class="line">? t</span><br><span class="line">-- OK! --</span><br><span class="line"></span><br><span class="line">scm&gt; (label t)</span><br><span class="line">? 11</span><br><span class="line">-- OK! --</span><br><span class="line"></span><br><span class="line">scm&gt; (map (lambda (b) (label b)) (branches t))</span><br><span class="line">? (5 8)</span><br><span class="line">-- OK! --</span><br><span class="line"></span><br><span class="line">---------------------------------------------------------------------</span><br><span class="line">OK! All cases for What Would Scheme Display? unlocked.</span><br></pre></td></tr></table></figure>
<h2 id="Code-Writing-Questions-7">Code Writing Questions</h2>
<blockquote>
<p>Remember that when working with data abstractions, you should <strong>not</strong> break the abstraction barrier if possible! Later questions will have <em>abstraction checks</em>, where the underlying representation of the abstraction will be changed; thus, attempting to refer to specifics of the implementation will break. Attempt to use the functions you are creating to interface with the classes whenever possible.</p>
</blockquote>
<h3 id="Cities">Cities</h3>
<p>Say we have an abstract data type for cities. A city has a name, a latitude coordinate, and a longitude coordinate.</p>
<p>Our data abstraction has one <strong>constructor</strong>:</p>
<ul>
<li><code>(make-city name lat lon)</code>: Creates a city object with the given name, latitude, and longitude.</li>
</ul>
<p>We also have the following <strong>selectors</strong> in order to get the information for each city:</p>
<ul>
<li><code>(get-name city)</code>: Returns the city’s name</li>
<li><code>(get-lat city)</code>: Returns the city’s latitude</li>
<li><code>(get-lon city)</code>: Returns the city’s longitude</li>
</ul>
<p>Here is how we would use the constructor and selectors to create cities and extract their information:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">scm&gt; (define berkeley (make-city &#x27;Berkeley 122 37))</span><br><span class="line">berkeley</span><br><span class="line">scm&gt; (get-name berkeley)</span><br><span class="line">Berkeley</span><br><span class="line">scm&gt; (get-lat berkeley)</span><br><span class="line">122</span><br><span class="line">scm&gt; (define new-york (make-city &#x27;NYC 74 40))</span><br><span class="line">new-york</span><br><span class="line">scm&gt; (get-lon new-york)</span><br><span class="line">40</span><br></pre></td></tr></table></figure>
<p>All of the selector and constructor functions can be found in the lab file, if you are curious to see how they are implemented. However, the point of data abstraction is that we do not need to know how an abstract data type is implemented, but rather just how we can interact with and use the data type.</p>
<h3 id="Q2-Distance">Q2: Distance</h3>
<p>We will now implement the function <code>distance</code>, which computes the <em>Euclidean distance</em> between two city objects; the Euclidean distance between two coordinate pairs <code>(x1, y1)</code> and <code>(x2, y2)</code> can be found by calculating the <code>sqrt((x1 - x2) ** 2 + (y1 - y2) ** 2)</code>. Use the latitude and longitude of a city as its coordinates; you’ll need to use the selectors to access this info!</p>
<blockquote>
<p>You may find the following methods useful:</p>
<ul>
<li><code>(expt base exp)</code>: calculate <code>base ** exp</code></li>
<li><code>(sqrt x)</code> calculate <code>sqrt(x)</code></li>
</ul>
</blockquote>
<figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name"><span class="builtin-name">define</span></span> (<span class="name">distance</span> city-a city-b) </span><br><span class="line">  <span class="symbol">&#x27;YOUR-CODE-HERE</span></span><br><span class="line">  (<span class="name"><span class="builtin-name">sqrt</span></span></span><br><span class="line">    (<span class="name"><span class="builtin-name">+</span></span></span><br><span class="line">      (<span class="name"><span class="builtin-name">expt</span></span> (<span class="name"><span class="builtin-name">-</span></span> (<span class="name">get-lat</span> city-a) (<span class="name">get-lat</span> city-b)) <span class="number">2</span>)</span><br><span class="line">      (<span class="name"><span class="builtin-name">expt</span></span> (<span class="name"><span class="builtin-name">-</span></span> (<span class="name">get-lon</span> city-a) (<span class="name">get-lon</span> city-b)) <span class="number">2</span>)</span><br><span class="line">    )</span><br><span class="line">  )</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>Use Ok to test your code:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 ok -q city_distance✂️</span><br></pre></td></tr></table></figure>
<h3 id="Q3-Closer-city">Q3: Closer city</h3>
<p>Next, implement <code>closer-city</code>, a function that takes a latitude, longitude, and two cities, and returns the name of the city that is relatively closer to the provided latitude and longitude.</p>
<p>You may only use the selectors and constructors introduced above and the <code>distance</code> function you just defined for this question.</p>
<blockquote>
<p><strong>Hint</strong>: How can you use your <code>distance</code> function to find the distance between the given location and each of the given cities?</p>
</blockquote>
<figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name"><span class="builtin-name">define</span></span> (<span class="name">closer-city</span> lat lon city-a city-b)</span><br><span class="line">  <span class="symbol">&#x27;YOUR-CODE-HERE</span></span><br><span class="line">  (<span class="name"><span class="builtin-name">define</span></span> x (<span class="name">make-city</span> <span class="symbol">&#x27;x</span> lat lon))</span><br><span class="line">  (<span class="name"><span class="builtin-name">if</span></span> (<span class="name"><span class="builtin-name">&lt;</span></span> (<span class="name">distance</span> x city-a) (<span class="name">distance</span> x city-b))</span><br><span class="line">    (<span class="name">get-name</span> city-a)</span><br><span class="line">    (<span class="name">get-name</span> city-b)</span><br><span class="line">  )</span><br><span class="line">)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>Use Ok to test your code:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 ok -q city_closer✂️</span><br></pre></td></tr></table></figure>
<h3 id="Teachers-and-Students">Teachers and Students</h3>
<p>In the following questions, you’ll be implementing data abstractions for students and teachers:</p>
<ol>
<li>The <code>teacher</code> abstraction keeps track of the teacher’s <code>name</code>, the <code>class</code> they teach, and the <code>students</code> enrolled in their class. Specifically, a <code>teacher</code>’s <code>name</code> and <code>class</code> are atomic symbols, and their <code>students</code> is a list of <code>student</code> objects.</li>
<li>The <code>student</code> abstraction keeps track of a student’s <code>name</code> and number of <code>classes</code> attended. Specifically, a <code>student</code>’s <code>name</code> is an atomic symbol, and their <code>classes</code> is a list of atomic symbols representing all classes attended. For example, if a student had attended <code>cs61a</code> and <code>astronomy</code>, their <code>classes</code> list would be <code>(cs61a astronomy)</code>.</li>
</ol>
<p>You can find the constructors for these classes below:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(define (student-create name classes) (cons name classes))</span><br><span class="line">(define (teacher-create name class students) (cons name (cons class students)))</span><br></pre></td></tr></table></figure>
<h3 id="Q4-Teachers-and-Students-Selectors">Q4: Teachers and Students: Selectors</h3>
<p>Implement <code>student-get-name</code>, <code>student-get-classes</code>, <code>teacher-get-name</code>, <code>teacher-get-class</code>, and <code>teacher-get-students</code>. These functions take in a <code>student</code> or <code>teacher</code> abstraction, and return the relevant attribute; for example, <code>student-get-name</code> takes a <code>student</code> as input, and returns the <code>name</code>.</p>
<figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name"><span class="builtin-name">define</span></span> (<span class="name">student-create</span> name classes)</span><br><span class="line">  (<span class="name"><span class="builtin-name">cons</span></span> name classes)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">(<span class="name"><span class="builtin-name">define</span></span> (<span class="name">teacher-create</span> name class students)</span><br><span class="line">  (<span class="name"><span class="builtin-name">cons</span></span> name (<span class="name"><span class="builtin-name">cons</span></span> class students))</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">(<span class="name"><span class="builtin-name">define</span></span> (<span class="name">student-get-name</span> student)</span><br><span class="line">  <span class="symbol">&#x27;YOUR-CODE-HERE</span></span><br><span class="line">  (<span class="name"><span class="builtin-name">car</span></span> student)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">(<span class="name"><span class="builtin-name">define</span></span> (<span class="name">student-get-classes</span> student)</span><br><span class="line">  <span class="symbol">&#x27;YOUR-CODE-HERE</span></span><br><span class="line">  (<span class="name"><span class="builtin-name">cdr</span></span> student)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">(<span class="name"><span class="builtin-name">define</span></span> (<span class="name">teacher-get-name</span> teacher)</span><br><span class="line">  <span class="symbol">&#x27;YOUR-CODE-HERE</span></span><br><span class="line">  (<span class="name"><span class="builtin-name">car</span></span> teacher)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">(<span class="name"><span class="builtin-name">define</span></span> (<span class="name">teacher-get-class</span> teacher)</span><br><span class="line">  <span class="symbol">&#x27;YOUR-CODE-HERE</span></span><br><span class="line">  (<span class="name"><span class="builtin-name">car</span></span> (<span class="name"><span class="builtin-name">cdr</span></span> teacher))</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">(<span class="name"><span class="builtin-name">define</span></span> (<span class="name">teacher-get-students</span> teacher)</span><br><span class="line">  <span class="symbol">&#x27;YOUR-CODE-HERE</span></span><br><span class="line">  (<span class="name"><span class="builtin-name">cdr</span></span> (<span class="name"><span class="builtin-name">cdr</span></span> teacher))</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>Use Ok to test your code:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 ok -q teacher_student_selectors✂️</span><br></pre></td></tr></table></figure>
<h3 id="Q5-Students-Attend-Class">Q5: Students: Attend Class</h3>
<p>Implement <code>student-attend-class</code>. This method takes in a <code>student</code> and a <code>class</code> as input, and returns a <em>new</em> <code>student</code> abstraction with the <code>class</code> list updated to reflect the <code>class</code> attended.</p>
<blockquote>
<p>Be sure to keep the abstraction barrier in mind!</p>
</blockquote>
<figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name"><span class="builtin-name">define</span></span> (<span class="name">student-attend-class</span> student class)</span><br><span class="line">  <span class="symbol">&#x27;YOUR-CODE-HERE</span></span><br><span class="line">  <span class="comment">; (define new_class (cons class (student-get-classes student)))</span></span><br><span class="line">  <span class="comment">; (define name (student-get-name student))</span></span><br><span class="line">  <span class="comment">; (student-create name new_class)</span></span><br><span class="line">  (<span class="name">student-create</span></span><br><span class="line">    (<span class="name">student-get-name</span> student)</span><br><span class="line">    (<span class="name"><span class="builtin-name">cons</span></span> class (<span class="name">student-get-classes</span> student))</span><br><span class="line">  )</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>Use Ok to test your code:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 ok -q student_attend_class✂️</span><br></pre></td></tr></table></figure>
<h3 id="Q6-Teachers-Hold-Discussion">Q6: Teachers: Hold Discussion</h3>
<p>Implement <code>teacher-hold-class</code>. This method takes in a <code>teacher</code> as input, and emulates holding a class. Specifically, the function should return a <em>new</em> updated <code>teacher</code>, where all <code>student</code> objects in the <code>teacher</code>’s <code>students</code> list have updated <code>class</code> lists to reflect their attendance.</p>
<blockquote>
<p>Be sure to keep the abstraction barrier in mind! Feel free to use any of the functions implemented in previous parts of this lab. You may also find the <a target="_blank" rel="noopener" href="https://cs61a.org/articles/scheme-builtins/"><code>map</code></a> function useful.</p>
</blockquote>
<figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name"><span class="builtin-name">define</span></span> (<span class="name">teacher-hold-class</span> teacher)</span><br><span class="line">  <span class="symbol">&#x27;YOUR-CODE-HERE</span></span><br><span class="line">  (<span class="name"><span class="builtin-name">define</span></span> name (<span class="name">teacher-get-name</span> teacher))</span><br><span class="line">  (<span class="name"><span class="builtin-name">define</span></span> class (<span class="name">teacher-get-class</span> teacher))</span><br><span class="line">  (<span class="name"><span class="builtin-name">define</span></span> students (<span class="name">teacher-get-students</span> teacher))</span><br><span class="line">  (<span class="name"><span class="builtin-name">define</span></span> new_students</span><br><span class="line">    (<span class="name"><span class="builtin-name">map</span></span></span><br><span class="line">      (<span class="name"><span class="builtin-name">lambda</span></span> (student) </span><br><span class="line">        (<span class="name">student-attend-class</span> student class)</span><br><span class="line">      )</span><br><span class="line">      students</span><br><span class="line">    )</span><br><span class="line">  )</span><br><span class="line">  </span><br><span class="line">  (<span class="name">teacher-create</span> name class new_students)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>Use Ok to test your code:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 ok -q teacher_hold_class✂️</span><br></pre></td></tr></table></figure>
<h2 id="Submit-7">Submit</h2>
<p>Make sure to submit this assignment by running:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 ok --submit</span><br></pre></td></tr></table></figure>
</div><div class="tags"><a href="/tags/CS61A"><i class="fa fa-tag">CS61A</i></a></div><div class="post-nav"><a class="pre" href="/2022/07/30/CS61A-Lab-13/">CS61A Lab 13</a><a class="next" href="/2022/07/30/CS61A-Lab-11/">CS61A Lab 11</a></div><div id="tcomment"></div><script src="https://unpkg.com/twikoo@1.5.7/dist/twikoo.all.min.js"></script><script>twikoo.init({
  envId: 'https://twikoo-f8467x06b-misaka-9982-coder.vercel.app/',
  el: '#tcomment',
  region: '',
  path: ''
})</script></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"/><div id="local-search-result"></div></div></div><div class="widget"><div class="author-info"><a class="info-avatar" href="/about/" title="关于"><img class="nofancybox" src="/img/avatar.jpeg"/></a><p>Try to be better.</p><a class="info-icon" href="mailto:1784321894@qq.com" title="Email" target="_blank" style="margin-inline:5px"> <i class="fa fa-envelope-square" style="margin-inline:5px"></i></a><a class="info-icon" href="https://github.com/Misaka-9982-coder" title="Github" target="_blank" style="margin-inline:5px"> <i class="fa fa-github-square" style="margin-inline:5px"></i></a><a class="info-icon" href="/atom.xml" title="RSS" target="_blank" style="margin-inline:5px"> <i class="fa fa-rss-square" style="margin-inline:5px"></i></a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/OS/" style="font-size: 15px;">OS</a> <a href="/tags/6-S081/" style="font-size: 15px;">6.S081</a> <a href="/tags/Acwing/" style="font-size: 15px;">Acwing</a> <a href="/tags/Algorithm/" style="font-size: 15px;">Algorithm</a> <a href="/tags/CS144/" style="font-size: 15px;">CS144</a> <a href="/tags/Network/" style="font-size: 15px;">Network</a> <a href="/tags/CS188/" style="font-size: 15px;">CS188</a> <a href="/tags/AI/" style="font-size: 15px;">AI</a> <a href="/tags/CS61A/" style="font-size: 15px;">CS61A</a> <a href="/tags/CS61BL/" style="font-size: 15px;">CS61BL</a> <a href="/tags/Java/" style="font-size: 15px;">Java</a> <a href="/tags/Wireshark/" style="font-size: 15px;">Wireshark</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2023/06/28/Codewar-%E4%BD%93%E9%AA%8C/">Codewar 体验</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/03/15/6-S081-Lab-3-page-tables/">6.S081 Lab 3 page tables</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/03/14/6-S081-Lab-2-System-Calls/">6.S081-Lab 2: System Calls</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/03/10/6-S081-Lab-1-Xv6-and-Unix-utilities/">6.S081-Lab 1: Xv6 and Unix utilities</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/03/09/6-S081%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E5%8F%8A%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/">6.S081环境配置及参考资料</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/02/25/CS144-Lab7/">CS144-Lab7</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/02/25/CS144-Lab6/">CS144-Lab6</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/02/24/CS144-Lab5/">CS144-Lab5</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/02/20/Makefile-%E5%92%8C-CMake/">Makefile 和 CMake</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/02/19/CS144-Lab4/">CS144-Lab4</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="https://www.colopen-blog.com/" title="彩色铅笔" target="_blank">彩色铅笔</a><ul></ul><a href="https://www.selfknow.cn/" title="L2c" target="_blank">L2c</a><ul></ul><a href="https://blognas.hwb0307.com" title="浮云翩迁之间" target="_blank">浮云翩迁之间</a></div><div class="widget"><div class="widget-title"><i class="fa fa-heartbeat"> 访客地图</i></div></div><script id="clstr_globe" type="text/javascript" defer="defer" src="//clustrmaps.com/globe.js?d=NAGSI3cBPnTXd3xVo3V7zDC9xqeu_9ed2OCmGUj1uiw"></script><script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async="async"></script><div class="widget"><div class="widget-title"><i class="fa fa-tags"> 网站资讯</i></div><ul> </ul><div class="webinfo-item"><div class="item-name">本站访客数  : </div><div class="item-count" id="busuanzi_value_site_uv"></div></div><ul> </ul><div class="webinfo-item"><div class="item-name">本站总访问量  : </div><div class="item-count" id="busuanzi_value_site_pv"></div></div><ul></ul><div class="webinfo-item"><div class="item-name">本站总字数 : </div><div class="item-count">301k</div></div></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2021 - 2023 <a href="/." rel="nofollow">Misaka's blog.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.js"></script><script type="text/javascript" src="/js/fancybox.js?v=1.0.0"></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.css"><link rel="stylesheet" type="text/css" href="/css/search.css?v=1.0.0"><script type="text/javascript" src="/js/search.js?v=1.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
  search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="/js/copycode.js?v=1.0.0" successtext="复制成功！"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css?v=1.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script></div></body></html>