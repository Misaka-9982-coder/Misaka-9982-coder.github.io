<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content=""><title>CS61A Lab 14 | Misaka's blog</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/latest/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/grids-responsive-min.min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/latest/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><script type="text/javascript" src="//lib.baomitu.com/clipboard.js/latest/clipboard.min.js"></script><script type="text/javascript" src="//lib.baomitu.com/toastr.js/latest/toastr.min.js"></script><link rel="stylesheet" href="//lib.baomitu.com/toastr.js/latest/toastr.min.css"><script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle = window.adsbygoogle || []).push({google_ad_client: "ca-pub-5060306535186583", enable_page_level_ads: true});</script><meta name="generator" content="Hexo 6.0.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">CS61A Lab 14</h1><a id="logo" href="/.">Misaka's blog</a><p class="description"></p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a><a href="/messageboard/"><i class="fa fa fa-comments"> 留言版</i></a><a href="/link/"><i class="fa fa fa-external-link"> 友链</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">CS61A Lab 14</h1><div class="post-meta">2022-07-30<span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> 阅读</span></span><span class="post-time"><span class="post-meta-item-text"> | </span><span class="post-meta-item-icon"><i class="fa fa-keyboard-o"></i><span class="post-count"> 3.2k</span><span class="post-meta-item-text"> 字</span></span></span><span class="post-time"> | <span class="post-meta-item-icon"><i class="fa fa-clock-o"></i><span class="post-count"> 19</span><span class="post-meta-item-text"> 分钟</span></span></span></div><div class="post-content"><h1>Lab 14 Solutions <a href="lab14.zip">lab14.zip</a></h1>
<h2 id="Solution-Files-4">Solution Files</h2>
<p>This lab has many files. Remember to write in <code>lab14.scm</code> for the Scheme questions, <code>lab14.lark</code> for the BNF question, and <code>lab14.py</code> for all other questions.</p>
<h1>Required Questions</h1>
<h2 id="Scheme-2">Scheme</h2>
<h3 id="Q1-Split">Q1: Split</h3>
<p>Implement <code>split-at</code>, which takes a list <code>lst</code> and a non-negative number <code>n</code> as input and returns a pair <code>new</code> such that <code>(car new)</code> is the first <code>n</code> elements of <code>lst</code> and <code>(cdr new)</code> is the remaining elements of <code>lst</code>. If <code>n</code> is greater than the length of <code>lst</code>, <code>(car new)</code> should be <code>lst</code> and <code>(cdr new)</code> should be <code>nil</code>.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">scm&gt; (car (split-at &#x27;(2 4 6 8 10) 3))</span><br><span class="line">(2 4 6)</span><br><span class="line">scm&gt; (cdr (split-at &#x27;(2 4 6 8 10) 3))</span><br><span class="line">(8 10)</span><br><span class="line">(define (split-at lst n)</span><br><span class="line"></span><br><span class="line">  (cond ((= n 0) (cons nil lst))</span><br><span class="line">        ((null? lst) (cons lst nil))</span><br><span class="line">        (else (let ((rec (split-at (cdr lst) (- n 1))))</span><br><span class="line">                (cons (cons (car lst) (car rec)) (cdr rec))))))</span><br></pre></td></tr></table></figure>
<p>Use Ok to test your code:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 ok -q split-at✂️</span><br></pre></td></tr></table></figure>
<h2 id="Scheme-Data-Abstraction">Scheme Data Abstraction</h2>
<h3 id="Q2-Filter-Odd-Tree">Q2: Filter Odd Tree</h3>
<p>Write a function <code>filter-odd</code> which takes a <code>tree</code> data abstraction and returns a new <code>tree</code> with all even <code>label</code>s replaced with <code>nil</code>.</p>
<blockquote>
<p>Consider using the <code>map</code> procedure to apply a one-argument function to a list.</p>
</blockquote>
<p>Below is a Scheme-ified data abstraction of the Tree class we’ve been working with this semester.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">; Constructs tree given label and list of branches</span><br><span class="line">(tree label branches)</span><br><span class="line"></span><br><span class="line">; Returns the label of the tree</span><br><span class="line">(label t)</span><br><span class="line"></span><br><span class="line">; Returns the list of branches of the given tree</span><br><span class="line">(branches t)</span><br><span class="line">(define (filter-odd t)</span><br><span class="line"></span><br><span class="line">	(cond</span><br><span class="line">		((null? t) nil)</span><br><span class="line">		((odd? (label t)) (tree (label t) (map filter-odd (branches t))))</span><br><span class="line">		(else (tree nil (map filter-odd (branches t))))</span><br><span class="line">	))</span><br></pre></td></tr></table></figure>
<p>Use Ok to test your code:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 ok -q filter_odd✂️</span><br></pre></td></tr></table></figure>
<h2 id="Programs-as-Data-2">Programs as Data</h2>
<h3 id="Q3-Swap">Q3: Swap</h3>
<p>Implement <code>swap</code> which takes an expression <code>expr</code> representing a call to some procedure and returns the same expression with its first two operands swapped if the value of the second operand is greater than the value of the first. Otherwise, it should just return the original expression. For example, <code>(swap '(- 1 (+ 3 5) 7))</code> should return the expression <code>(- (+ 3 5) 1 7)</code> since <code>1</code> evaluates to <code>1</code>, <code>(+ 3 5)</code> evaluates to <code>8</code>, and <code>8 &gt; 1</code>. Any operands after the first two should not be evaluated during the execution of the procedure, and they should be left unchanged in the final expression. You may assume that every operand evaluates to a number and that there are always at least two operands in <code>expr</code>. You may want to consider using a <code>let</code> expression in addition to the provided procedures to help simplify your code.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">(define (cddr s)</span><br><span class="line">  (cdr (cdr s))</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">(define (cadr s)</span><br><span class="line">  (car (cdr s))</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">(define (caddr s)</span><br><span class="line">  (car (cddr s))</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">(define (swap expr)</span><br><span class="line"></span><br><span class="line">    (let ((op (car expr))</span><br><span class="line">        (first (car (cdr expr)))</span><br><span class="line">        (second (caddr expr))</span><br><span class="line">        (rest (cdr (cddr expr))))</span><br><span class="line">        (if (&gt; (eval second) (eval first))</span><br><span class="line">            (cons op (cons second (cons first rest)))</span><br><span class="line">            expr)</span><br><span class="line">    ))</span><br></pre></td></tr></table></figure>
<p>Use Ok to test your code:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 ok -q swap✂️</span><br></pre></td></tr></table></figure>
<h2 id="Regex">Regex</h2>
<h3 id="Q4-Address-First-Line">Q4: Address First Line</h3>
<p>Write a regular expression that parses strings and returns whether it contains the first line of a US mailing address.</p>
<p>US mailing addresses typically contain a block number, which is a sequence of 3-5 digits, following by a street name. The street name can consist of multiple words but will always end with a street type abbreviation, which itself is a sequence of 2-5 English letters. The street name can also optionally start with a cardinal direction (“N”, “E”, “W”, “S”). Everything should be properly capitalized.</p>
<p>Proper capitalization means that the first letter of each name is capitalized. It is fine to have things like “WeirdCApitalization” match.</p>
<p>See the doctests for some examples.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">def address_oneline(text):</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    Finds and returns if there are expressions in text that represent the first line</span><br><span class="line">    of a US mailing address.</span><br><span class="line"></span><br><span class="line">    &gt;&gt;&gt; address_oneline(&quot;110 Sproul Hall, Berkeley, CA 94720&quot;)</span><br><span class="line">    True</span><br><span class="line">    &gt;&gt;&gt; address_oneline(&quot;What&#x27;s at 39177 Farwell Dr? Is there a 39177 Nearwell Dr?&quot;)</span><br><span class="line">    True</span><br><span class="line">    &gt;&gt;&gt; address_oneline(&quot;I just landed at 780 N McDonnell Rd, and I need to get to 1880-ish University Avenue. Help!&quot;)</span><br><span class="line">    True</span><br><span class="line">    &gt;&gt;&gt; address_oneline(&quot;123 Le Roy Ave&quot;)</span><br><span class="line">    True</span><br><span class="line">    &gt;&gt;&gt; address_oneline(&quot;110 Unabbreviated Boulevard&quot;)</span><br><span class="line">    False</span><br><span class="line">    &gt;&gt;&gt; address_oneline(&quot;790 lowercase St&quot;)</span><br><span class="line">    False</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">    block_number = r&quot;\d&#123;3,5&#125;&quot;</span><br><span class="line">    cardinal_dir = r&quot;(?:[NEWS] )?&quot; # whitespace is important!</span><br><span class="line">    street = r&quot;(?:[A-Z][A-Za-z]+ )+&quot;</span><br><span class="line">    type_abbr = r&quot;[A-Z][a-z]&#123;1,4&#125;\b&quot;    street_name = f&quot;&#123;cardinal_dir&#125;&#123;street&#125;&#123;type_abbr&#125;&quot;</span><br><span class="line">    return bool(re.search(f&quot;&#123;block_number&#125; &#123;street_name&#125;&quot;, text))</span><br></pre></td></tr></table></figure>
<p>Use Ok to test your code:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 ok -q address_oneline✂️</span><br></pre></td></tr></table></figure>
<h2 id="BNF-2">BNF</h2>
<h3 id="Q5-WWPD-PyCombinator">Q5: WWPD: PyCombinator</h3>
<p>Consider this attempt at a BNF grammar for Pycombinator, a grammar which supports a subset of Python’s functionality. Specifically, it is able to parse any expression with a Python arithmetic operator. The grammar is specified below:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">?start: pycomb_expression</span><br><span class="line"></span><br><span class="line">pycomb_expression: func &quot;(&quot; arg (&quot;,&quot; arg)* &quot;)&quot;</span><br><span class="line"></span><br><span class="line">arg: pycomb_expression | NUMBER</span><br><span class="line"></span><br><span class="line">func: FUNCNAME</span><br><span class="line"></span><br><span class="line">FUNCNAME: &quot;add&quot; | &quot;mul&quot; | &quot;sub&quot;</span><br><span class="line"></span><br><span class="line">%ignore &quot; &quot;</span><br><span class="line">%import common.NUMBER</span><br></pre></td></tr></table></figure>
<p>Let’s understand and modify the functionality of this BNF with a few questions.</p>
<blockquote>
<p>Use Ok to test your knowledge by choosing the best answer for each of the following “What Would PyCombinator Do” questions:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 ok -q wwpd-bnf -u</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="Submit-9">Submit</h2>
<p>Make sure to submit this assignment by running:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 ok --submit</span><br></pre></td></tr></table></figure>
<h1>Recommended Questions</h1>
<p>The following problems are not required for credit on this lab but may help you prepare for the final.</p>
<h2 id="Trees-2">Trees</h2>
<h3 id="Q6-Prune-Min">Q6: Prune Min</h3>
<p>Write a function that prunes a <code>Tree</code> <code>t</code> mutatively. <code>t</code> and its branches always have zero or two branches. For the trees with two branches, reduce the number of branches from two to one by keeping the branch that has the smaller label value. Do nothing with trees with zero branches.</p>
<p>Prune the tree in a direction of your choosing (top down or bottom up). The result should be a linear tree.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">def prune_min(t):</span><br><span class="line">    &quot;&quot;&quot;Prune the tree mutatively.</span><br><span class="line"></span><br><span class="line">    &gt;&gt;&gt; t1 = Tree(6)</span><br><span class="line">    &gt;&gt;&gt; prune_min(t1)</span><br><span class="line">    &gt;&gt;&gt; t1</span><br><span class="line">    Tree(6)</span><br><span class="line">    &gt;&gt;&gt; t2 = Tree(6, [Tree(3), Tree(4)])</span><br><span class="line">    &gt;&gt;&gt; prune_min(t2)</span><br><span class="line">    &gt;&gt;&gt; t2</span><br><span class="line">    Tree(6, [Tree(3)])</span><br><span class="line">    &gt;&gt;&gt; t3 = Tree(6, [Tree(3, [Tree(1), Tree(2)]), Tree(5, [Tree(3), Tree(4)])])</span><br><span class="line">    &gt;&gt;&gt; prune_min(t3)</span><br><span class="line">    &gt;&gt;&gt; t3</span><br><span class="line">    Tree(6, [Tree(3, [Tree(1)])])</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">    if t.branches == []:</span><br><span class="line">        return</span><br><span class="line">    prune_min(t.branches[0])</span><br><span class="line">    prune_min(t.branches[1])</span><br><span class="line">    if (t.branches[0].label &gt; t.branches[1].label):</span><br><span class="line">        t.branches.pop(0)</span><br><span class="line">    else:</span><br><span class="line">        t.branches.pop(1)</span><br><span class="line">    return # return statement to block alternate from running</span><br><span class="line"></span><br><span class="line"># Alternate solution</span><br><span class="line">    if t.is_leaf():</span><br><span class="line">        return</span><br><span class="line">    remove_ind = int(t.branches[0].label &lt; t.branches[1].label)</span><br><span class="line">    t.branches.pop(remove_ind)</span><br><span class="line">    prune_min(t.branches[0])</span><br></pre></td></tr></table></figure>
<p>Use Ok to test your code:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 ok -q prune_min✂️</span><br></pre></td></tr></table></figure>
<h3 id="Q7-Add-trees">Q7: Add trees</h3>
<p>Define the function <code>add_trees</code>, which takes in two trees and returns a new tree where each corresponding node from the first tree is added with the node from the second tree. If a node at any particular position is present in one tree but not the other, it should be present in the new tree as well.</p>
<p><em>Hint</em>: You may want to use the built-in zip function to iterate over multiple sequences at once.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">def add_trees(t1, t2):</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    &gt;&gt;&gt; numbers = Tree(1,</span><br><span class="line">    ...                [Tree(2,</span><br><span class="line">    ...                      [Tree(3),</span><br><span class="line">    ...                       Tree(4)]),</span><br><span class="line">    ...                 Tree(5,</span><br><span class="line">    ...                      [Tree(6,</span><br><span class="line">    ...                            [Tree(7)]),</span><br><span class="line">    ...                       Tree(8)])])</span><br><span class="line">    &gt;&gt;&gt; print(add_trees(numbers, numbers))</span><br><span class="line">    2</span><br><span class="line">      4</span><br><span class="line">        6</span><br><span class="line">        8</span><br><span class="line">      10</span><br><span class="line">        12</span><br><span class="line">          14</span><br><span class="line">        16</span><br><span class="line">    &gt;&gt;&gt; print(add_trees(Tree(2), Tree(3, [Tree(4), Tree(5)])))</span><br><span class="line">    5</span><br><span class="line">      4</span><br><span class="line">      5</span><br><span class="line">    &gt;&gt;&gt; print(add_trees(Tree(2, [Tree(3)]), Tree(2, [Tree(3), Tree(4)])))</span><br><span class="line">    4</span><br><span class="line">      6</span><br><span class="line">      4</span><br><span class="line">    &gt;&gt;&gt; print(add_trees(Tree(2, [Tree(3, [Tree(4), Tree(5)])]), \</span><br><span class="line">    Tree(2, [Tree(3, [Tree(4)]), Tree(5)])))</span><br><span class="line">    4</span><br><span class="line">      6</span><br><span class="line">        8</span><br><span class="line">        5</span><br><span class="line">      5</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">    if not t1:</span><br><span class="line">        return t2</span><br><span class="line">    if not t2:</span><br><span class="line">        return t1</span><br><span class="line">    new_label = t1.label + t2.label</span><br><span class="line">    t1_branches, t2_branches = list(t1.branches), list(t2.branches)</span><br><span class="line">    length_t1, length_t2 = len(t1_branches), len(t2_branches)</span><br><span class="line">    if length_t1 &lt; length_t2:</span><br><span class="line">        t1_branches += [None for _ in range(length_t1, length_t2)]</span><br><span class="line">    elif length_t1 &gt; length_t2:</span><br><span class="line">        t2_branches += [None for _ in range(length_t2, length_t1)]</span><br><span class="line">    return Tree(new_label, [add_trees(branch1, branch2) for branch1, branch2 in zip(t1_branches, t2_branches)])</span><br></pre></td></tr></table></figure>
<p>Use Ok to test your code:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 ok -q add_trees✂️</span><br></pre></td></tr></table></figure>
<h2 id="Objects">Objects</h2>
<p>Let’s implement a game called Election. In this game, two players compete to try and earn the most votes. Both players start with 0 votes and 100 popularity.</p>
<p>The two players alternate turns, and the first player starts. Each turn, the current player chooses an action. There are two types of actions:</p>
<ul>
<li>The player can debate, and either gain or lose 50 popularity. If the player has popularity <code>p1</code> and the other player has popularity <code>p2</code>, then the probability that the player gains 50 popularity is <code>max(0.1, p1 / (p1 + p2))</code> Note that the <code>max</code> causes the probability to never be lower than 0.1.</li>
<li>The player can give a speech. If the player has popularity <code>p1</code> and the other player has popularity <code>p2</code>, then the player gains <code>p1 // 10</code> votes and popularity and the other player loses <code>p2 // 10</code> popularity.</li>
</ul>
<p>The game ends when a player reaches 50 votes, or after a total of 10 turns have been played (each player has taken 5 turns). Whoever has more votes at the end of the game is the winner!</p>
<h3 id="Q8-Player">Q8: Player</h3>
<p>First, let’s implement the <code>Player</code> class. Fill in the <code>debate</code> and <code>speech</code> methods, that take in another <code>Player</code> <code>other</code>, and implement the correct behavior as detailed above. Here are two additional things to keep in mind:</p>
<ul>
<li>In the <code>debate</code> method, you should call the provided <code>random</code> function, which returns a random float between 0 and 1. The player should gain 50 popularity if the random number is smaller than the probability described above, and lose 50 popularity otherwise.</li>
<li>Neither players’ popularity should ever become negative. If this happens, set it equal to 0 instead.</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">### Phase 1: The Player Class</span><br><span class="line">class Player:</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    &gt;&gt;&gt; random = make_test_random()</span><br><span class="line">    &gt;&gt;&gt; p1 = Player(&#x27;Hill&#x27;)</span><br><span class="line">    &gt;&gt;&gt; p2 = Player(&#x27;Don&#x27;)</span><br><span class="line">    &gt;&gt;&gt; p1.popularity</span><br><span class="line">    100</span><br><span class="line">    &gt;&gt;&gt; p1.debate(p2)  # random() should return 0.0</span><br><span class="line">    &gt;&gt;&gt; p1.popularity</span><br><span class="line">    150</span><br><span class="line">    &gt;&gt;&gt; p2.popularity</span><br><span class="line">    100</span><br><span class="line">    &gt;&gt;&gt; p2.votes</span><br><span class="line">    0</span><br><span class="line">    &gt;&gt;&gt; p2.speech(p1)</span><br><span class="line">    &gt;&gt;&gt; p2.votes</span><br><span class="line">    10</span><br><span class="line">    &gt;&gt;&gt; p2.popularity</span><br><span class="line">    110</span><br><span class="line">    &gt;&gt;&gt; p1.popularity</span><br><span class="line">    135</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &gt;&gt;&gt; # Additional correctness tests</span><br><span class="line">    &gt;&gt;&gt; p1.speech(p2)</span><br><span class="line">    &gt;&gt;&gt; p1.votes</span><br><span class="line">    13</span><br><span class="line">    &gt;&gt;&gt; p1.popularity</span><br><span class="line">    148</span><br><span class="line">    &gt;&gt;&gt; p2.votes</span><br><span class="line">    10</span><br><span class="line">    &gt;&gt;&gt; p2.popularity</span><br><span class="line">    99</span><br><span class="line">    &gt;&gt;&gt; for _ in range(4):  # 0.1, 0.2, 0.3, 0.4</span><br><span class="line">    ...     p1.debate(p2)</span><br><span class="line">    &gt;&gt;&gt; p2.debate(p1)</span><br><span class="line">    &gt;&gt;&gt; p2.popularity</span><br><span class="line">    49</span><br><span class="line">    &gt;&gt;&gt; p2.debate(p1)</span><br><span class="line">    &gt;&gt;&gt; p2.popularity</span><br><span class="line">    0</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    def __init__(self, name):</span><br><span class="line">        self.name = name</span><br><span class="line">        self.votes = 0</span><br><span class="line">        self.popularity = 100</span><br><span class="line"></span><br><span class="line">    def debate(self, other):</span><br><span class="line"></span><br><span class="line">        prob = max(0.1, self.popularity / (self.popularity + other.popularity))</span><br><span class="line">        if random() &lt; prob:</span><br><span class="line">            self.popularity += 50</span><br><span class="line">        else:</span><br><span class="line">            self.popularity = max(0, self.popularity - 50)</span><br><span class="line">    def speech(self, other):</span><br><span class="line"></span><br><span class="line">        self.votes += self.popularity // 10</span><br><span class="line">        self.popularity += self.popularity // 10</span><br><span class="line">        other.popularity -= other.popularity // 10</span><br><span class="line">    def choose(self, other):</span><br><span class="line">        return self.speech</span><br></pre></td></tr></table></figure>
<p>Use Ok to test your code:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 ok -q Player✂️</span><br></pre></td></tr></table></figure>
<h3 id="Q9-Game">Q9: Game</h3>
<p>Now, implement the <code>Game</code> class. Fill in the <code>play</code> method, which should alternate between the two players, starting with <code>p1</code>, and have each player take one turn at a time. The <code>choose</code> method in the <code>Player</code> class returns the method, either <code>debate</code> or <code>speech</code>, that should be called to perform the action.</p>
<p>In addition, fill in the <code>winner</code> method, which should return the player with more votes, or <code>None</code> if the players are tied.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">### Phase 2: The Game Class</span><br><span class="line">class Game:</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    &gt;&gt;&gt; p1, p2 = Player(&#x27;Hill&#x27;), Player(&#x27;Don&#x27;)</span><br><span class="line">    &gt;&gt;&gt; g = Game(p1, p2)</span><br><span class="line">    &gt;&gt;&gt; winner = g.play()</span><br><span class="line">    &gt;&gt;&gt; p1 is winner</span><br><span class="line">    True</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &gt;&gt;&gt; # Additional correctness tests</span><br><span class="line">    &gt;&gt;&gt; winner is g.winner()</span><br><span class="line">    True</span><br><span class="line">    &gt;&gt;&gt; g.turn</span><br><span class="line">    10</span><br><span class="line">    &gt;&gt;&gt; p1.votes = p2.votes</span><br><span class="line">    &gt;&gt;&gt; print(g.winner())</span><br><span class="line">    None</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    def __init__(self, player1, player2):</span><br><span class="line">        self.p1 = player1</span><br><span class="line">        self.p2 = player2</span><br><span class="line">        self.turn = 0</span><br><span class="line"></span><br><span class="line">    def play(self):</span><br><span class="line">        while not self.game_over():</span><br><span class="line"></span><br><span class="line">            if self.turn % 2 == 0:</span><br><span class="line">                curr, other = self.p1, self.p2</span><br><span class="line">            else:</span><br><span class="line">                curr, other = self.p2, self.p1</span><br><span class="line">            curr.choose(other)(other)</span><br><span class="line">            self.turn += 1        return self.winner()</span><br><span class="line"></span><br><span class="line">    def game_over(self):</span><br><span class="line">        return max(self.p1.votes, self.p2.votes) &gt;= 50 or self.turn &gt;= 10</span><br><span class="line"></span><br><span class="line">    def winner(self):</span><br><span class="line"></span><br><span class="line">        if self.p1.votes &gt; self.p2.votes:</span><br><span class="line">            return self.p1</span><br><span class="line">        elif self.p2.votes &gt; self.p1.votes:</span><br><span class="line">            return self.p2</span><br><span class="line">        else:</span><br><span class="line">            return None</span><br></pre></td></tr></table></figure>
<p>Use Ok to test your code:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 ok -q Game✂️</span><br></pre></td></tr></table></figure>
<h3 id="Q10-New-Players">Q10: New Players</h3>
<p>The <code>choose</code> method in the <code>Player</code> class is boring, because it always returns the <code>speech</code> method. Let’s implement two new classes that inherit from <code>Player</code>, but have more interesting <code>choose</code> methods.</p>
<p>Implement the <code>choose</code> method in the <code>AggressivePlayer</code> class, which returns the <code>debate</code> method if the player’s popularity is less than or equal to <code>other</code>’s popularity, and <code>speech</code> otherwise. Also implement the <code>choose</code> method in the <code>CautiousPlayer</code> class, which returns the <code>debate</code> method if the player’s popularity is 0, and <code>speech</code> otherwise.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">### Phase 3: New Players</span><br><span class="line">class AggressivePlayer(Player):</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    &gt;&gt;&gt; random = make_test_random()</span><br><span class="line">    &gt;&gt;&gt; p1, p2 = AggressivePlayer(&#x27;Don&#x27;), Player(&#x27;Hill&#x27;)</span><br><span class="line">    &gt;&gt;&gt; g = Game(p1, p2)</span><br><span class="line">    &gt;&gt;&gt; winner = g.play()</span><br><span class="line">    &gt;&gt;&gt; p1 is winner</span><br><span class="line">    True</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &gt;&gt;&gt; # Additional correctness tests</span><br><span class="line">    &gt;&gt;&gt; p1.popularity = p2.popularity</span><br><span class="line">    &gt;&gt;&gt; p1.choose(p2) == p1.debate</span><br><span class="line">    True</span><br><span class="line">    &gt;&gt;&gt; p1.popularity += 1</span><br><span class="line">    &gt;&gt;&gt; p1.choose(p2) == p1.debate</span><br><span class="line">    False</span><br><span class="line">    &gt;&gt;&gt; p2.choose(p1) == p2.speech</span><br><span class="line">    True</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    def choose(self, other):</span><br><span class="line"></span><br><span class="line">        if self.popularity &lt;= other.popularity:</span><br><span class="line">            return self.debate</span><br><span class="line">        else:</span><br><span class="line">            return self.speech</span><br><span class="line">class CautiousPlayer(Player):</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    &gt;&gt;&gt; random = make_test_random()</span><br><span class="line">    &gt;&gt;&gt; p1, p2 = CautiousPlayer(&#x27;Hill&#x27;), AggressivePlayer(&#x27;Don&#x27;)</span><br><span class="line">    &gt;&gt;&gt; p1.popularity = 0</span><br><span class="line">    &gt;&gt;&gt; p1.choose(p2) == p1.debate</span><br><span class="line">    True</span><br><span class="line">    &gt;&gt;&gt; p1.popularity = 1</span><br><span class="line">    &gt;&gt;&gt; p1.choose(p2) == p1.debate</span><br><span class="line">    False</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &gt;&gt;&gt; # Additional correctness tests</span><br><span class="line">    &gt;&gt;&gt; p2.choose(p1) == p2.speech</span><br><span class="line">    True</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    def choose(self, other):</span><br><span class="line"></span><br><span class="line">        if self.popularity == 0:</span><br><span class="line">            return self.debate</span><br><span class="line">        else:</span><br><span class="line">            return self.speech</span><br></pre></td></tr></table></figure>
<p>Use Ok to test your code:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python3 ok -q AggressivePlayer</span><br><span class="line">python3 ok -q CautiousPlayer✂️</span><br></pre></td></tr></table></figure>
<h2 id="Lists">Lists</h2>
<h3 id="Q11-Intersection-Summer-2015-MT1-Q4">Q11: Intersection - Summer 2015 MT1 Q4</h3>
<p>Implement <code>intersection(lst_of_lsts)</code>, which takes a list of lists and returns a list of distinct elements that appear in all the lists in <code>lst_of_lsts</code>. If no number appears in all of the lists, return the empty list. You may assume that <code>lst_of_lsts</code> contains at least one list.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">def intersection(lst_of_lsts):</span><br><span class="line">    &quot;&quot;&quot;Returns a list of distinct elements that appear in every list in</span><br><span class="line">    lst_of_lsts.</span><br><span class="line"></span><br><span class="line">    &gt;&gt;&gt; lsts1 = [[1, 2, 3], [1, 3, 5]]</span><br><span class="line">    &gt;&gt;&gt; intersection(lsts1)</span><br><span class="line">    [1, 3]</span><br><span class="line">    &gt;&gt;&gt; lsts2 = [[1, 4, 2, 6], [7, 2, 4], [4, 4]]</span><br><span class="line">    &gt;&gt;&gt; intersection(lsts2)</span><br><span class="line">    [4]</span><br><span class="line">    &gt;&gt;&gt; lsts3 = [[1, 2, 3], [4, 5], [7, 8, 9, 10]]</span><br><span class="line">    &gt;&gt;&gt; intersection(lsts3)         # No number appears in all lists</span><br><span class="line">    []</span><br><span class="line">    &gt;&gt;&gt; lsts4 = [[3, 3], [1, 2, 3, 3], [3, 4, 3, 5]]</span><br><span class="line">    &gt;&gt;&gt; intersection(lsts4)         # Return list of distinct elements</span><br><span class="line">    [3]</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    elements = []</span><br><span class="line"></span><br><span class="line">    for elem in lst_of_lsts[0]:</span><br><span class="line">        condition = elem not in elements</span><br><span class="line">        for lst in lst_of_lsts[1:]:</span><br><span class="line">            if elem not in lst:</span><br><span class="line">                condition = False</span><br><span class="line">        if condition:</span><br><span class="line">            elements = elements + [elem]    return elements</span><br></pre></td></tr></table></figure>
<p>Use Ok to test your code:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 ok -q intersection✂️</span><br></pre></td></tr></table></figure>
<h3 id="Q12-Deck-of-cards">Q12: Deck of cards</h3>
<p>Write a list comprehension that will create a deck of cards, given a list of <code>suits</code> and a list of <code>ranks</code>. Each element in the list will be a card, which is represented by a 2-element list of the form <code>[suit, rank]</code>.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">def deck(suits, ranks):</span><br><span class="line">    &quot;&quot;&quot;Creates a deck of cards (a list of 2-element lists) with the given</span><br><span class="line">    suits and ranks. Each element in the returned list should be of the form</span><br><span class="line">    [suit, rank].</span><br><span class="line"></span><br><span class="line">    &gt;&gt;&gt; deck([&#x27;S&#x27;, &#x27;C&#x27;], [1, 2, 3])</span><br><span class="line">    [[&#x27;S&#x27;, 1], [&#x27;S&#x27;, 2], [&#x27;S&#x27;, 3], [&#x27;C&#x27;, 1], [&#x27;C&#x27;, 2], [&#x27;C&#x27;, 3]]</span><br><span class="line">    &gt;&gt;&gt; deck([&#x27;S&#x27;, &#x27;C&#x27;], [3, 2, 1])</span><br><span class="line">    [[&#x27;S&#x27;, 3], [&#x27;S&#x27;, 2], [&#x27;S&#x27;, 1], [&#x27;C&#x27;, 3], [&#x27;C&#x27;, 2], [&#x27;C&#x27;, 1]]</span><br><span class="line">    &gt;&gt;&gt; deck([], [3, 2, 1])</span><br><span class="line">    []</span><br><span class="line">    &gt;&gt;&gt; deck([&#x27;S&#x27;, &#x27;C&#x27;], [])</span><br><span class="line">    []</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">    return [[suit, rank] for suit in suits</span><br><span class="line">                           for rank in ranks]</span><br></pre></td></tr></table></figure>
<p>Use Ok to test your code:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 ok -q deck✂️</span><br></pre></td></tr></table></figure>
<h2 id="Linked-Lists">Linked Lists</h2>
<h3 id="Q13-O-Pascal-Fall-2017-Final-Q4">Q13: O!-Pascal - Fall 2017 Final Q4</h3>
<p>Pasal’s Triangle is perhaps familiar to you from the diagram below, which shows the first five rows.</p>
<p><img src="/Users/misaka/Downloads/CodeSpace/blog/source/_posts/assets/Pascal.png" alt="Pascal's Triangle"></p>
<p>Every square is the sum of the two squares above it (as illustrated by the arrows showing here the value 4 comes from), unless it doesn’t have two squares above it, in whih case its value is 1.</p>
<p>Given a linked list that represents a row in Pasal’s triangle, return a linked list that will represent the row below it.</p>
<p><img src="/Users/misaka/Downloads/CodeSpace/blog/source/_posts/assets/Pascal2.png" alt="Diagonal"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">def pascal_row(s):</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    &gt;&gt;&gt; a = Link.empty</span><br><span class="line">    &gt;&gt;&gt; for _ in range(5):</span><br><span class="line">    ...     a = pascal_row(a)</span><br><span class="line">    ...     print(a)</span><br><span class="line">    &lt;1&gt;</span><br><span class="line">    &lt;1 1&gt;</span><br><span class="line">    &lt;1 2 1&gt;</span><br><span class="line">    &lt;1 3 3 1&gt;</span><br><span class="line">    &lt;1 4 6 4 1&gt;</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">    if s is Link.empty:</span><br><span class="line">        return Link(1)</span><br><span class="line">    start = Link(1)</span><br><span class="line">    last, current = start, s</span><br><span class="line">    while current.rest is not Link.empty:</span><br><span class="line">        last.rest = Link(current.first + current.rest.first)</span><br><span class="line">        last, current = last.rest, current.rest</span><br><span class="line">    last.rest = Link(1)</span><br><span class="line">    return start</span><br></pre></td></tr></table></figure>
<p>Use Ok to test your code:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 ok -q pascal_row✂️</span><br></pre></td></tr></table></figure>
</div><div class="tags"><a href="/tags/CS61A"><i class="fa fa-tag">CS61A</i></a></div><div class="post-nav"><a class="pre" href="/2022/07/30/CS61A-Homework-7/">CS61A Homework 7</a><a class="next" href="/2022/07/30/CS61A-Lab-13/">CS61A Lab 13</a></div><div id="tcomment"></div><script src="https://unpkg.com/twikoo@1.5.7/dist/twikoo.all.min.js"></script><script>twikoo.init({
  envId: 'https://twikoo-f8467x06b-misaka-9982-coder.vercel.app/',
  el: '#tcomment',
  region: '',
  path: ''
})</script></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"/><div id="local-search-result"></div></div></div><div class="widget"><div class="author-info"><a class="info-avatar" href="/about/" title="关于"><img class="nofancybox" src="/img/avatar.jpeg"/></a><p>Try to be better.</p><a class="info-icon" href="mailto:1784321894@qq.com" title="Email" target="_blank" style="margin-inline:5px"> <i class="fa fa-envelope-square" style="margin-inline:5px"></i></a><a class="info-icon" href="https://github.com/Misaka-9982-coder" title="Github" target="_blank" style="margin-inline:5px"> <i class="fa fa-github-square" style="margin-inline:5px"></i></a><a class="info-icon" href="/atom.xml" title="RSS" target="_blank" style="margin-inline:5px"> <i class="fa fa-rss-square" style="margin-inline:5px"></i></a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/OS/" style="font-size: 15px;">OS</a> <a href="/tags/6-S081/" style="font-size: 15px;">6.S081</a> <a href="/tags/Acwing/" style="font-size: 15px;">Acwing</a> <a href="/tags/Algorithm/" style="font-size: 15px;">Algorithm</a> <a href="/tags/CS144/" style="font-size: 15px;">CS144</a> <a href="/tags/Network/" style="font-size: 15px;">Network</a> <a href="/tags/CS188/" style="font-size: 15px;">CS188</a> <a href="/tags/AI/" style="font-size: 15px;">AI</a> <a href="/tags/CS61A/" style="font-size: 15px;">CS61A</a> <a href="/tags/CS61BL/" style="font-size: 15px;">CS61BL</a> <a href="/tags/Java/" style="font-size: 15px;">Java</a> <a href="/tags/Wireshark/" style="font-size: 15px;">Wireshark</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2023/06/28/Codewar-%E4%BD%93%E9%AA%8C/">Codewar 体验</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/03/15/6-S081-Lab-3-page-tables/">6.S081 Lab 3 page tables</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/03/14/6-S081-Lab-2-System-Calls/">6.S081-Lab 2: System Calls</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/03/10/6-S081-Lab-1-Xv6-and-Unix-utilities/">6.S081-Lab 1: Xv6 and Unix utilities</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/03/09/6-S081%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E5%8F%8A%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/">6.S081环境配置及参考资料</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/02/25/CS144-Lab7/">CS144-Lab7</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/02/25/CS144-Lab6/">CS144-Lab6</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/02/24/CS144-Lab5/">CS144-Lab5</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/02/20/Makefile-%E5%92%8C-CMake/">Makefile 和 CMake</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/02/19/CS144-Lab4/">CS144-Lab4</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="https://www.colopen-blog.com/" title="彩色铅笔" target="_blank">彩色铅笔</a><ul></ul><a href="https://www.selfknow.cn/" title="L2c" target="_blank">L2c</a><ul></ul><a href="https://blognas.hwb0307.com" title="浮云翩迁之间" target="_blank">浮云翩迁之间</a></div><div class="widget"><div class="widget-title"><i class="fa fa-heartbeat"> 访客地图</i></div></div><script id="clstr_globe" type="text/javascript" defer="defer" src="//clustrmaps.com/globe.js?d=NAGSI3cBPnTXd3xVo3V7zDC9xqeu_9ed2OCmGUj1uiw"></script><script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async="async"></script><div class="widget"><div class="widget-title"><i class="fa fa-tags"> 网站资讯</i></div><ul> </ul><div class="webinfo-item"><div class="item-name">本站访客数  : </div><div class="item-count" id="busuanzi_value_site_uv"></div></div><ul> </ul><div class="webinfo-item"><div class="item-name">本站总访问量  : </div><div class="item-count" id="busuanzi_value_site_pv"></div></div><ul></ul><div class="webinfo-item"><div class="item-name">本站总字数 : </div><div class="item-count">301k</div></div></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2021 - 2023 <a href="/." rel="nofollow">Misaka's blog.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.js"></script><script type="text/javascript" src="/js/fancybox.js?v=1.0.0"></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.css"><link rel="stylesheet" type="text/css" href="/css/search.css?v=1.0.0"><script type="text/javascript" src="/js/search.js?v=1.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
  search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="/js/copycode.js?v=1.0.0" successtext="复制成功！"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css?v=1.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script></div></body></html>