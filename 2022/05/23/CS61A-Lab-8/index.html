<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content=""><title>CS61A Lab 8 | Misaka's blog</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/latest/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/grids-responsive-min.min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/latest/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><script type="text/javascript" src="//lib.baomitu.com/clipboard.js/latest/clipboard.min.js"></script><script type="text/javascript" src="//lib.baomitu.com/toastr.js/latest/toastr.min.js"></script><link rel="stylesheet" href="//lib.baomitu.com/toastr.js/latest/toastr.min.css"><script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle = window.adsbygoogle || []).push({google_ad_client: "ca-pub-5060306535186583", enable_page_level_ads: true});</script><meta name="generator" content="Hexo 6.0.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">CS61A Lab 8</h1><a id="logo" href="/.">Misaka's blog</a><p class="description"></p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a><a href="/messageboard/"><i class="fa fa fa-comments"> 留言版</i></a><a href="/link/"><i class="fa fa fa-external-link"> 友链</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">CS61A Lab 8</h1><div class="post-meta">2022-05-23<span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> 阅读</span></span><span class="post-time"><span class="post-meta-item-text"> | </span><span class="post-meta-item-icon"><i class="fa fa-keyboard-o"></i><span class="post-count"> 3.5k</span><span class="post-meta-item-text"> 字</span></span></span><span class="post-time"> | <span class="post-meta-item-icon"><i class="fa fa-clock-o"></i><span class="post-count"> 21</span><span class="post-meta-item-text"> 分钟</span></span></span></div><div class="post-content"><h1>Lab 8: Midterm Review <a target="_blank" rel="noopener" href="https://cs61a.org/lab/lab08/lab08.zip">lab08.zip</a></h1>
<p><em>Due by 11:59pm on Wednesday, March 16.</em></p>
<h2 id="Starter-Files-4">Starter Files</h2>
<p>Download <a target="_blank" rel="noopener" href="https://cs61a.org/lab/lab08/lab08.zip">lab08.zip</a>. Inside the archive, you will find starter files for the questions in this lab, along with a copy of the <a target="_blank" rel="noopener" href="https://cs61a.org/lab/lab08/ok">Ok</a> autograder.</p>
<h1>Topics</h1>
<p>Consult this section if you need a refresher on the material for this lab. It’s okay to skip directly to <a target="_blank" rel="noopener" href="https://cs61a.org/lab/lab08/#required-questions">the questions</a> and refer back here should you get stuck.</p>
<p>Iterators</p>
<p>Generators</p>
<h1>Required Questions</h1>
<h2 id="Iterators-Generators">Iterators &amp; Generators</h2>
<h3 id="Q1-Repeated">Q1: Repeated</h3>
<p>Implement <code>repeated</code>, which takes in an iterator <code>t</code> and returns the first value in <code>t</code> that appears <code>k</code> times in a row.</p>
<blockquote>
<p><strong>Note:</strong> You can assume that the iterator <code>t</code> will have a value that appears at least <code>k</code> times in a row. If you are receiving a <code>StopIteration</code>, your <code>repeated</code> function is likely not identifying the correct value.</p>
</blockquote>
<p>Your implementation should iterate through the items in a way such that if the same iterator is passed into <code>repeated</code> twice, it should continue in the second call at the point it left off in the first. An example of this behavior is in the doctests.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">repeated</span>(<span class="params">t, k</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return the first value in iterator T that appears K times in a row.</span></span><br><span class="line"><span class="string">    Iterate through the items such that if the same iterator is passed into</span></span><br><span class="line"><span class="string">    the function twice, it continues in the second call at the point it left</span></span><br><span class="line"><span class="string">    off in the first.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; s = iter([10, 9, 10, 9, 9, 10, 8, 8, 8, 7])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; repeated(s, 2)</span></span><br><span class="line"><span class="string">    9</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; s2 = iter([10, 9, 10, 9, 9, 10, 8, 8, 8, 7])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; repeated(s2, 3)</span></span><br><span class="line"><span class="string">    8</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; s = iter([3, 2, 2, 2, 1, 2, 1, 4, 4, 5, 5, 5])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; repeated(s, 3)</span></span><br><span class="line"><span class="string">    2</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; repeated(s, 3)</span></span><br><span class="line"><span class="string">    5</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; s2 = iter([4, 1, 6, 6, 7, 7, 8, 8, 2, 2, 2, 5])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; repeated(s2, 3)</span></span><br><span class="line"><span class="string">    2</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">assert</span> k &gt; <span class="number">1</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    cnt, prev = <span class="number">1</span>, <span class="built_in">next</span>(t)</span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> t:</span><br><span class="line">        <span class="keyword">if</span> item == prev:</span><br><span class="line">            cnt += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> cnt == k:</span><br><span class="line">                <span class="keyword">return</span> item</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            cnt = <span class="number">1</span></span><br><span class="line">        prev = item</span><br></pre></td></tr></table></figure>
<p>Use Ok to test your code:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 ok -q repeated✂️</span><br></pre></td></tr></table></figure>
<h3 id="Q2-Merge">Q2: Merge</h3>
<p>Implement <code>merge(incr_a, incr_b)</code>, which takes two iterables <code>incr_a</code> and <code>incr_b</code> whose elements are ordered. <code>merge</code> yields elements from <code>incr_a</code> and <code>incr_b</code> in sorted order, eliminating repetition. You may assume <code>incr_a</code> and <code>incr_b</code> themselves do not contain repeats, and that none of the elements of either are <code>None</code>. You may <strong>not</strong> assume that the iterables are finite; either may produce an infinite stream of results.</p>
<p>You will probably find it helpful to use the two-argument version of the built-in <code>next</code> function: <code>next(incr, v)</code> is the same as <code>next(incr)</code>, except that instead of raising <code>StopIteration</code> when <code>incr</code> runs out of elements, it returns <code>v</code>.</p>
<p>See the doctest for examples of behavior.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">merge</span>(<span class="params">incr_a, incr_b</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Yield the elements of strictly increasing iterables incr_a and incr_b, removing</span></span><br><span class="line"><span class="string">    repeats. Assume that incr_a and incr_b have no repeats. incr_a or incr_b may or may not</span></span><br><span class="line"><span class="string">    be infinite sequences.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; m = merge([0, 2, 4, 6, 8, 10, 12, 14], [0, 3, 6, 9, 12, 15])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; type(m)</span></span><br><span class="line"><span class="string">    &lt;class &#x27;generator&#x27;&gt;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; list(m)</span></span><br><span class="line"><span class="string">    [0, 2, 3, 4, 6, 8, 9, 10, 12, 14, 15]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; def big(n):</span></span><br><span class="line"><span class="string">    ...    k = 0</span></span><br><span class="line"><span class="string">    ...    while True: yield k; k += n</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; m = merge(big(2), big(3))</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; [next(m) for _ in range(11)]</span></span><br><span class="line"><span class="string">    [0, 2, 3, 4, 6, 8, 9, 10, 12, 14, 15]</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    iter_a, iter_b = <span class="built_in">iter</span>(incr_a), <span class="built_in">iter</span>(incr_b)</span><br><span class="line">    next_a, next_b = <span class="built_in">next</span>(iter_a, <span class="literal">None</span>), <span class="built_in">next</span>(iter_b, <span class="literal">None</span>)</span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span>    </span><br><span class="line">    <span class="keyword">while</span> next_a <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">and</span> next_b <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">        val_a, val_b = next_a, next_b</span><br><span class="line">        <span class="keyword">if</span> val_a == val_b:</span><br><span class="line">            <span class="keyword">yield</span> next_a</span><br><span class="line">            next_a, next_b = <span class="built_in">next</span>(iter_a, <span class="literal">None</span>), <span class="built_in">next</span>(iter_b, <span class="literal">None</span>)</span><br><span class="line">        <span class="keyword">elif</span> val_a &lt; val_b:</span><br><span class="line">            <span class="keyword">yield</span> next_a</span><br><span class="line">            next_a = <span class="built_in">next</span>(iter_a, <span class="literal">None</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">yield</span> next_b</span><br><span class="line">            next_b = <span class="built_in">next</span>(iter_b, <span class="literal">None</span>)</span><br><span class="line">    <span class="comment"># incr_a is not empty</span></span><br><span class="line">    <span class="keyword">while</span> next_a:</span><br><span class="line">        <span class="keyword">yield</span> next_a</span><br><span class="line">        next_a = <span class="built_in">next</span>(iter_a, <span class="literal">None</span>)</span><br><span class="line">    <span class="comment"># incr_b is not empty</span></span><br><span class="line">    <span class="keyword">while</span> next_b:</span><br><span class="line">        <span class="keyword">yield</span> next_b</span><br><span class="line">        next_b = <span class="built_in">next</span>(iter_b, <span class="literal">None</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>Use Ok to test your code:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 ok -q merge✂️</span><br></pre></td></tr></table></figure>
<h2 id="Linked-Lists-Trees">Linked Lists &amp; Trees</h2>
<h3 id="Q3-Deep-Linked-List-Length">Q3: Deep Linked List Length</h3>
<p>A linked list that contains one or more linked lists as elements is called a <em>deep</em> linked list. Write a function <code>deep_len</code> that takes in a (possibly deep) linked list and returns the <em>deep length</em> of that linked list. The deep length of a linked list is the total number of non-link elements in the list, as well as the total number of elements contained in all contained lists. See the function’s doctests for examples of the deep length of linked lists.</p>
<blockquote>
<p><strong>Hint:</strong> Use <code>isinstance</code> to check if something is an instance of an object.</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">deep_len</span>(<span class="params">lnk</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot; Returns the deep length of a possibly deep linked list.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; deep_len(Link(1, Link(2, Link(3))))</span></span><br><span class="line"><span class="string">    3</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; deep_len(Link(Link(1, Link(2)), Link(3, Link(4))))</span></span><br><span class="line"><span class="string">    4</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; levels = Link(Link(Link(1, Link(2)), \</span></span><br><span class="line"><span class="string">            Link(3)), Link(Link(4), Link(5)))</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; print(levels)</span></span><br><span class="line"><span class="string">    &lt;&lt;&lt;1 2&gt; 3&gt; &lt;4&gt; 5&gt;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; deep_len(levels)</span></span><br><span class="line"><span class="string">    5</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">   	<span class="keyword">if</span> lnk == Link.empty:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">elif</span> <span class="keyword">not</span> <span class="built_in">isinstance</span>(lnk, Link):</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> deep_len(lnk.first) + deep_len(lnk.rest)</span><br></pre></td></tr></table></figure>
<p>Use Ok to test your code:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 ok -q deep_len✂️</span><br></pre></td></tr></table></figure>
<h3 id="Q4-Add-Leaves">Q4: Add Leaves</h3>
<p>Implement <code>add_d_leaves</code>, a function that takes in a <code>Tree</code> instance <code>t</code> and a number <code>v</code>.</p>
<p>We define the depth of a node in <code>t</code> to be the number of edges from the root to that node. The depth of root is therefore 0.</p>
<p>For each node in the tree, you should add <code>d</code> leaves to it, where <code>d</code> is the depth of the node. Every added leaf should have a label of <code>v</code>. If the node at this depth has existing branches, you should add these leaves to the end of that list of branches.</p>
<p>For example, you should be adding 1 leaf with label <code>v</code> to each node at depth 1, 2 leaves to each node at depth 2, and so on.</p>
<p>Here is an example of a tree <code>t</code>(shown on the left) and the result after <code>add_d_leaves</code> is applied with <code>v</code> as 5.<img src="https://cs61a.org/lab/lab08/assets/add_leaves.png" alt="add"></p>
<blockquote>
<p>Try drawing out the second doctest to visualize how the function is mutating <code>t3</code>.</p>
</blockquote>
<blockquote>
<p><strong>Hint:</strong> Use a helper function to keep track of the depth!</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add_d_leaves</span>(<span class="params">t, v</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Add d leaves containing v to each node at every depth d.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; t_one_to_four = Tree(1, [Tree(2), Tree(3, [Tree(4)])])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; print(t_one_to_four)</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">      2</span></span><br><span class="line"><span class="string">      3</span></span><br><span class="line"><span class="string">        4</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; add_d_leaves(t_one_to_four, 5)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; print(t_one_to_four)</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">      2</span></span><br><span class="line"><span class="string">        5</span></span><br><span class="line"><span class="string">      3</span></span><br><span class="line"><span class="string">        4</span></span><br><span class="line"><span class="string">          5</span></span><br><span class="line"><span class="string">          5</span></span><br><span class="line"><span class="string">        5</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; t1 = Tree(1, [Tree(3)])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; add_d_leaves(t1, 4)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; t1</span></span><br><span class="line"><span class="string">    Tree(1, [Tree(3, [Tree(4)])])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; t2 = Tree(2, [Tree(5), Tree(6)])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; t3 = Tree(3, [t1, Tree(0), t2])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; print(t3)</span></span><br><span class="line"><span class="string">    3</span></span><br><span class="line"><span class="string">      1</span></span><br><span class="line"><span class="string">        3</span></span><br><span class="line"><span class="string">          4</span></span><br><span class="line"><span class="string">      0</span></span><br><span class="line"><span class="string">      2</span></span><br><span class="line"><span class="string">        5</span></span><br><span class="line"><span class="string">        6</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; add_d_leaves(t3, 10)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; print(t3)</span></span><br><span class="line"><span class="string">    3</span></span><br><span class="line"><span class="string">      1</span></span><br><span class="line"><span class="string">        3</span></span><br><span class="line"><span class="string">          4</span></span><br><span class="line"><span class="string">            10</span></span><br><span class="line"><span class="string">            10</span></span><br><span class="line"><span class="string">            10</span></span><br><span class="line"><span class="string">          10</span></span><br><span class="line"><span class="string">          10</span></span><br><span class="line"><span class="string">        10</span></span><br><span class="line"><span class="string">      0</span></span><br><span class="line"><span class="string">        10</span></span><br><span class="line"><span class="string">      2</span></span><br><span class="line"><span class="string">        5</span></span><br><span class="line"><span class="string">          10</span></span><br><span class="line"><span class="string">          10</span></span><br><span class="line"><span class="string">        6</span></span><br><span class="line"><span class="string">          10</span></span><br><span class="line"><span class="string">          10</span></span><br><span class="line"><span class="string">        10</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">dfs</span>(<span class="params">root, depth, v</span>):</span></span><br><span class="line">        <span class="keyword">if</span> root.is_leaf():</span><br><span class="line">            <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(depth):</span><br><span class="line">                root.branches.append(Tree(v))</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> b <span class="keyword">in</span> root.branches:</span><br><span class="line">            dfs(b, depth + <span class="number">1</span>, v)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(depth):</span><br><span class="line">            root.branches.append(Tree(v))</span><br><span class="line"></span><br><span class="line">    dfs(t, <span class="number">0</span>, v)</span><br></pre></td></tr></table></figure>
<p>Use Ok to test your code:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 ok -q add_d_leaves✂️</span><br></pre></td></tr></table></figure>
<h2 id="Efficiency">Efficiency</h2>
<h3 id="Q5-Efficiency-Practice">Q5: Efficiency Practice</h3>
<p>Choose the term that fills in the blank for the functions defined below: <code>&lt;function&gt;</code> runs in <code>____</code> time in the length of its input.</p>
<ul>
<li>Constant</li>
<li>Logarithmic</li>
<li>Linear</li>
<li>Quadratic</li>
<li>Exponential</li>
<li>None of these</li>
</ul>
<p>Assume that <code>len</code> runs in constant time and <code>all</code> runs in linear time in the length of its input. Selecting an element of a list by its index requires constant time. Constructing a range requires constant time.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">def count_partitions(n, m):</span><br><span class="line">    &quot;&quot;&quot;Counts the number of partitions of a positive integer n, </span><br><span class="line">    using parts up to size m.&quot;&quot;&quot;</span><br><span class="line">    if n == 0:</span><br><span class="line">        return 1</span><br><span class="line">    elif n &lt; 0:</span><br><span class="line">        return 0</span><br><span class="line">    elif m == 0:</span><br><span class="line">        return 0</span><br><span class="line">    else:</span><br><span class="line">        with_m = count_partitions(n-m, m)</span><br><span class="line">        without_m = count_partitions(n, m-1)</span><br><span class="line">        return with_m + without_m</span><br><span class="line"></span><br><span class="line">def is_palindrome(s):</span><br><span class="line">    &quot;&quot;&quot;Return whether a list of numbers s is a palindrome.&quot;&quot;&quot;</span><br><span class="line">    return all([s[i] == s[len(s) - i - 1] for i in range(len(s))])</span><br><span class="line"></span><br><span class="line">def binary_search(lst, n):</span><br><span class="line">    &quot;&quot;&quot;Takes in a sorted list lst and returns the index where integer n</span><br><span class="line">    is contained in lst. Returns -1 if n does not exist in lst.&quot;&quot;&quot;</span><br><span class="line">    low = 0</span><br><span class="line">    high = len(lst)</span><br><span class="line">    while low &lt;= high:</span><br><span class="line">        middle = (low + high) // 2</span><br><span class="line">        if lst[middle] == n:</span><br><span class="line">            return middle</span><br><span class="line">        elif n &lt; lst[middle]:</span><br><span class="line">            high = middle - 1</span><br><span class="line">        else:</span><br><span class="line">            low = middle + 1</span><br><span class="line">    return -1</span><br></pre></td></tr></table></figure>
<blockquote>
<p>The <code>is_palindrome</code> question was reformatted from question 6(d) on fall 2019’s <a target="_blank" rel="noopener" href="https://cs61a.org/exam/fa19/final/61a-fa19-final.pdf#page=7">final</a>.</p>
</blockquote>
<p>Use Ok to test your understanding:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">python3 ok -q efficiency_practice -u</span><br><span class="line">Q: The count_partitions <span class="keyword">function</span> runs <span class="keyword">in</span> ____ time <span class="keyword">in</span> the length of its input.</span><br><span class="line"></span><br><span class="line">Choose the number of the correct choice:</span><br><span class="line">0) Quadratic</span><br><span class="line">1) None of these</span><br><span class="line">2) Constant</span><br><span class="line">3) Logarithmic</span><br><span class="line">4) Linear</span><br><span class="line">5) Exponential</span><br><span class="line">? 5</span><br><span class="line">-- OK! --</span><br><span class="line"></span><br><span class="line">---------------------------------------------------------------------</span><br><span class="line">efficiency_practice &gt; Suite 1 &gt; Case 2</span><br><span class="line">(cases remaining: 2)</span><br><span class="line"></span><br><span class="line">Q: The is_palindrome <span class="keyword">function</span> runs <span class="keyword">in</span> ____ time <span class="keyword">in</span> the length of its input.</span><br><span class="line">Choose the number of the correct choice:</span><br><span class="line">0) Linear</span><br><span class="line">1) Quadratic</span><br><span class="line">2) None of these</span><br><span class="line">3) Exponential</span><br><span class="line">4) Constant</span><br><span class="line">5) Logarithmic</span><br><span class="line">? 0</span><br><span class="line">-- OK! --</span><br><span class="line"></span><br><span class="line">---------------------------------------------------------------------</span><br><span class="line">efficiency_practice &gt; Suite 1 &gt; Case 3</span><br><span class="line">(cases remaining: 1)</span><br><span class="line"></span><br><span class="line">Q: The binary_search <span class="keyword">function</span> runs <span class="keyword">in</span> ____ time <span class="keyword">in</span> the length of its input.</span><br><span class="line">Choose the number of the correct choice:</span><br><span class="line">0) Linear</span><br><span class="line">1) Logarithmic</span><br><span class="line">2) Constant</span><br><span class="line">3) None of these</span><br><span class="line">4) Exponential</span><br><span class="line">5) Quadratic</span><br><span class="line">? 1</span><br><span class="line">-- OK! --</span><br><span class="line"></span><br><span class="line">---------------------------------------------------------------------</span><br><span class="line">OK! All cases <span class="keyword">for</span> efficiency_practice unlocked.</span><br></pre></td></tr></table></figure>
<h2 id="Submit-13">Submit</h2>
<p>Make sure to submit this assignment by running:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 ok --submit</span><br></pre></td></tr></table></figure>
<h1>Extra Practice</h1>
<h2 id="Recursion-and-Tree-Recursion">Recursion and Tree Recursion</h2>
<h3 id="Q6-Subsequences">Q6: Subsequences</h3>
<p>A subsequence of a sequence <code>S</code> is a subset of elements from <code>S</code>, in the same order they appear in <code>S</code>. Consider the list <code>[1, 2, 3]</code>. Here are a few of it’s subsequences <code>[]</code>, <code>[1, 3]</code>, <code>[2]</code>, and <code>[1, 2, 3]</code>.</p>
<p>Write a function that takes in a list and returns all possible subsequences of that list. The subsequences should be returned as a list of lists, where each nested list is a subsequence of the original input.</p>
<p>In order to accomplish this, you might first want to write a function <code>insert_into_all</code> that takes an item and a list of lists, adds the item to the beginning of each nested list, and returns the resulting list.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">insert_into_all</span>(<span class="params">item, nested_list</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return a new list consisting of all the lists in nested_list,</span></span><br><span class="line"><span class="string">    but with item added to the front of each. You can assume that</span></span><br><span class="line"><span class="string">     nested_list is a list of lists.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; nl = [[], [1, 2], [3]]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; insert_into_all(0, nl)</span></span><br><span class="line"><span class="string">    [[0], [0, 1, 2], [0, 3]]</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">subseqs</span>(<span class="params">s</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return a nested list (a list of lists) of all subsequences of S.</span></span><br><span class="line"><span class="string">    The subsequences can appear in any order. You can assume S is a list.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; seqs = subseqs([1, 2, 3])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; sorted(seqs)</span></span><br><span class="line"><span class="string">    [[], [1], [1, 2], [1, 2, 3], [1, 3], [2], [2, 3], [3]]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; subseqs([])</span></span><br><span class="line"><span class="string">    [[]]</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(s) &lt;= <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> [[], s] <span class="keyword">if</span> s != [] <span class="keyword">else</span> [[]]</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        tmp = subseqs(s[<span class="number">1</span>:])</span><br><span class="line">        <span class="keyword">return</span> insert_into_all(s[<span class="number">0</span>], tmp) + tmp</span><br></pre></td></tr></table></figure>
<p>Use Ok to test your code:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 ok -q subseqs✂️</span><br></pre></td></tr></table></figure>
<h3 id="Q7-Non-Decreasing-Subsequences">Q7: Non-Decreasing Subsequences</h3>
<p>Just like the last question, we want to write a function that takes a list and returns a list of lists, where each individual list is a subsequence of the original input.</p>
<p>This time we have another condition: we only want the subsequences for which consecutive elements are <em>nondecreasing</em>. For example, <code>[1, 3, 2]</code> is a subsequence of <code>[1, 3, 2, 4]</code>, but since 2 &lt; 3, this subsequence would <em>not</em> be included in our result.</p>
<p><strong>Fill in the blanks</strong> to complete the implementation of the <code>non_decrease_subseqs</code> function. You may assume that the input list contains no negative elements.</p>
<p>You may use the provided helper function <code>insert_into_all</code>, which takes in an <code>item</code> and a list of lists and inserts the <code>item</code> to the front of each list.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">def non_decrease_subseqs(s):</span><br><span class="line">    &quot;&quot;&quot;Assuming that S is a list, return a nested list of all subsequences</span><br><span class="line">    of S (a list of lists) for which the elements of the subsequence</span><br><span class="line">    are strictly nondecreasing. The subsequences can appear in any order.</span><br><span class="line"></span><br><span class="line">    &gt;&gt;&gt; seqs = non_decrease_subseqs([1, 3, 2])</span><br><span class="line">    &gt;&gt;&gt; sorted(seqs)</span><br><span class="line">    [[], [1], [1, 2], [1, 3], [2], [3]]</span><br><span class="line">    &gt;&gt;&gt; non_decrease_subseqs([])</span><br><span class="line">    [[]]</span><br><span class="line">    &gt;&gt;&gt; seqs2 = non_decrease_subseqs([1, 1, 2])</span><br><span class="line">    &gt;&gt;&gt; sorted(seqs2)</span><br><span class="line">    [[], [1], [1], [1, 1], [1, 1, 2], [1, 2], [1, 2], [2]]</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    def subseq_helper(s, prev):</span><br><span class="line">        if not s:</span><br><span class="line">            return ____________________</span><br><span class="line">        elif s[0] &lt; prev:</span><br><span class="line">            return ____________________</span><br><span class="line">        else:</span><br><span class="line">            a = ______________________</span><br><span class="line">            b = ______________________</span><br><span class="line">            return insert_into_all(________, ______________) + ________________</span><br><span class="line">    return subseq_helper(____, ____)</span><br></pre></td></tr></table></figure>
<p>Use Ok to test your code:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 ok -q non_decrease_subseqs✂️</span><br></pre></td></tr></table></figure>
<h2 id="Mutable-Lists">Mutable Lists</h2>
<h3 id="Q8-Shuffle">Q8: Shuffle</h3>
<p>Define a function <code>shuffle</code> that takes a sequence with an even number of elements (cards) and creates a new list that interleaves the elements of the first half with the elements of the second half.</p>
<p>To interleave two sequences <code>s0</code> and <code>s1</code> is to create a new sequence such that the new sequence contains (in this order) the first element of <code>s0</code>, the first element of <code>s1</code>, the second element of <code>s0</code>, the second element of <code>s1</code>, and so on. If the two lists are not the same length, then the leftover elements of the longer list should still appear at the end.</p>
<blockquote>
<p><strong>Note:</strong> If you’re running into an issue where the special heart / diamond / spades / clubs symbols are erroring in the doctests, feel free to copy paste the below doctests into your file as these don’t use the special characters and should not give an “illegal multibyte sequence” error.</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">def card(n):</span><br><span class="line">    &quot;&quot;&quot;Return the playing card numeral as a string for a positive n &lt;= 13.&quot;&quot;&quot;</span><br><span class="line">    assert type(n) == int and n &gt; 0 and n &lt;= 13, &quot;Bad card n&quot;</span><br><span class="line">    specials = &#123;1: &#x27;A&#x27;, 11: &#x27;J&#x27;, 12: &#x27;Q&#x27;, 13: &#x27;K&#x27;&#125;</span><br><span class="line">    return specials.get(n, str(n))</span><br><span class="line"></span><br><span class="line">def shuffle(cards):</span><br><span class="line">    &quot;&quot;&quot;Return a shuffled list that interleaves the two halves of cards.</span><br><span class="line"></span><br><span class="line">    &gt;&gt;&gt; shuffle(range(6))</span><br><span class="line">    [0, 3, 1, 4, 2, 5]</span><br><span class="line">    &gt;&gt;&gt; suits = [&#x27;H&#x27;, &#x27;D&#x27;, &#x27;S&#x27;, &#x27;C&#x27;]</span><br><span class="line">    &gt;&gt;&gt; cards = [card(n) + suit for n in range(1,14) for suit in suits]</span><br><span class="line">    &gt;&gt;&gt; cards[:12]</span><br><span class="line">    [&#x27;AH&#x27;, &#x27;AD&#x27;, &#x27;AS&#x27;, &#x27;AC&#x27;, &#x27;2H&#x27;, &#x27;2D&#x27;, &#x27;2S&#x27;, &#x27;2C&#x27;, &#x27;3H&#x27;, &#x27;3D&#x27;, &#x27;3S&#x27;, &#x27;3C&#x27;]</span><br><span class="line">    &gt;&gt;&gt; cards[26:30]</span><br><span class="line">    [&#x27;7S&#x27;, &#x27;7C&#x27;, &#x27;8H&#x27;, &#x27;8D&#x27;]</span><br><span class="line">    &gt;&gt;&gt; shuffle(cards)[:12]</span><br><span class="line">    [&#x27;AH&#x27;, &#x27;7S&#x27;, &#x27;AD&#x27;, &#x27;7C&#x27;, &#x27;AS&#x27;, &#x27;8H&#x27;, &#x27;AC&#x27;, &#x27;8D&#x27;, &#x27;2H&#x27;, &#x27;8S&#x27;, &#x27;2D&#x27;, &#x27;8C&#x27;]</span><br><span class="line">    &gt;&gt;&gt; shuffle(shuffle(cards))[:12]</span><br><span class="line">    [&#x27;AH&#x27;, &#x27;4D&#x27;, &#x27;7S&#x27;, &#x27;10C&#x27;, &#x27;AD&#x27;, &#x27;4S&#x27;, &#x27;7C&#x27;, &#x27;JH&#x27;, &#x27;AS&#x27;, &#x27;4C&#x27;, &#x27;8H&#x27;, &#x27;JD&#x27;]</span><br><span class="line">    &gt;&gt;&gt; cards[:12]  # Should not be changed</span><br><span class="line">    [&#x27;AH&#x27;, &#x27;AD&#x27;, &#x27;AS&#x27;, &#x27;AC&#x27;, &#x27;2H&#x27;, &#x27;2D&#x27;, &#x27;2S&#x27;, &#x27;2C&#x27;, &#x27;3H&#x27;, &#x27;3D&#x27;, &#x27;3S&#x27;, &#x27;3C&#x27;]</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    assert len(cards) % 2 == 0, &#x27;len(cards) must be even&#x27;</span><br><span class="line">    half = _______________</span><br><span class="line">    shuffled = []</span><br><span class="line">    for i in _____________:</span><br><span class="line">        _________________</span><br><span class="line">        _________________</span><br><span class="line">    return shuffled</span><br></pre></td></tr></table></figure>
<p>Use Ok to test your code:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 ok -q shuffle✂️</span><br></pre></td></tr></table></figure>
<h2 id="Generators-Iterators">Generators &amp; Iterators</h2>
<h3 id="Q9-Pairs-generator">Q9: Pairs (generator)</h3>
<p>Write a generator function <code>pairs</code> that takes a list and yields all the possible pairs of elements from that list.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">pairs</span>(<span class="params">lst</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; type(pairs([3, 4, 5]))</span></span><br><span class="line"><span class="string">    &lt;class &#x27;generator&#x27;&gt;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; for x, y in pairs([3, 4, 5]):</span></span><br><span class="line"><span class="string">    ...     print(x, y)</span></span><br><span class="line"><span class="string">    ...</span></span><br><span class="line"><span class="string">    3 3</span></span><br><span class="line"><span class="string">    3 4</span></span><br><span class="line"><span class="string">    3 5</span></span><br><span class="line"><span class="string">    4 3</span></span><br><span class="line"><span class="string">    4 4</span></span><br><span class="line"><span class="string">    4 5</span></span><br><span class="line"><span class="string">    5 3</span></span><br><span class="line"><span class="string">    5 4</span></span><br><span class="line"><span class="string">    5 5</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> lst:</span><br><span class="line">        <span class="keyword">for</span> y <span class="keyword">in</span> lst:</span><br><span class="line">            <span class="keyword">yield</span> x, y</span><br></pre></td></tr></table></figure>
<p>Use Ok to test your code:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 ok -q pairs✂️</span><br></pre></td></tr></table></figure>
<h3 id="Q10-Pairs-iterator">Q10: Pairs (iterator)</h3>
<blockquote>
<p><strong>Important note (March 14):</strong> This question is <strong>not</strong> in scope for this semester (Spring 2022), as it involves <code>__iter__</code> and <code>__next__</code>.</p>
</blockquote>
<p>Now write an iterator that does the same thing. You are only allowed to use a linear amount of space - so computing a list of all of the possible pairs is not a valid answer. Notice how much harder it is - this is why generators are useful.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">class PairsIterator:</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    &gt;&gt;&gt; for x, y in PairsIterator([3, 4, 5]):</span><br><span class="line">    ...     print(x, y)</span><br><span class="line">    ...</span><br><span class="line">    3 3</span><br><span class="line">    3 4</span><br><span class="line">    3 5</span><br><span class="line">    4 3</span><br><span class="line">    4 4</span><br><span class="line">    4 5</span><br><span class="line">    5 3</span><br><span class="line">    5 4</span><br><span class="line">    5 5</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    def __init__(self, lst):</span><br><span class="line">        &quot;*** YOUR CODE HERE ***&quot;</span><br><span class="line"></span><br><span class="line">    def __next__(self):</span><br><span class="line">        &quot;*** YOUR CODE HERE ***&quot;</span><br><span class="line"></span><br><span class="line">    def __iter__(self):</span><br><span class="line">        &quot;*** YOUR CODE HERE ***&quot;</span><br></pre></td></tr></table></figure>
<p>Use Ok to test your code:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 ok -q PairsIterator✂️</span><br></pre></td></tr></table></figure>
<h2 id="Trees-3">Trees</h2>
<h3 id="Q11-Long-Paths">Q11: Long Paths</h3>
<p>Implement <code>long_paths</code>, which returns a list of all <em>paths</em> in a tree with length at least <code>n</code>. A path in a tree is a linked list of node values that starts with the root and ends at a leaf. Each subsequent element must be from a child of the previous value’s node. The <em>length</em> of a path is the number of edges in the path (i.e. one less than the number of nodes in the path). Paths are listed in order from left to right. See the doctests for some examples.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">def long_paths(tree, n):</span><br><span class="line">    &quot;&quot;&quot;Return a list of all paths in tree with length at least n.</span><br><span class="line"></span><br><span class="line">    &gt;&gt;&gt; t = Tree(3, [Tree(4), Tree(4), Tree(5)])</span><br><span class="line">    &gt;&gt;&gt; left = Tree(1, [Tree(2), t])</span><br><span class="line">    &gt;&gt;&gt; mid = Tree(6, [Tree(7, [Tree(8)]), Tree(9)])</span><br><span class="line">    &gt;&gt;&gt; right = Tree(11, [Tree(12, [Tree(13, [Tree(14)])])])</span><br><span class="line">    &gt;&gt;&gt; whole = Tree(0, [left, Tree(13), mid, right])</span><br><span class="line">    &gt;&gt;&gt; for path in long_paths(whole, 2):</span><br><span class="line">    ...     print(path)</span><br><span class="line">    ...</span><br><span class="line">    &lt;0 1 2&gt;</span><br><span class="line">    &lt;0 1 3 4&gt;</span><br><span class="line">    &lt;0 1 3 4&gt;</span><br><span class="line">    &lt;0 1 3 5&gt;</span><br><span class="line">    &lt;0 6 7 8&gt;</span><br><span class="line">    &lt;0 6 9&gt;</span><br><span class="line">    &lt;0 11 12 13 14&gt;</span><br><span class="line">    &gt;&gt;&gt; for path in long_paths(whole, 3):</span><br><span class="line">    ...     print(path)</span><br><span class="line">    ...</span><br><span class="line">    &lt;0 1 3 4&gt;</span><br><span class="line">    &lt;0 1 3 4&gt;</span><br><span class="line">    &lt;0 1 3 5&gt;</span><br><span class="line">    &lt;0 6 7 8&gt;</span><br><span class="line">    &lt;0 11 12 13 14&gt;</span><br><span class="line">    &gt;&gt;&gt; long_paths(whole, 4)</span><br><span class="line">    [Link(0, Link(11, Link(12, Link(13, Link(14)))))]</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    &quot;*** YOUR CODE HERE ***&quot;</span><br></pre></td></tr></table></figure>
<p>Use Ok to test your code:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 ok -q long_paths✂️</span><br></pre></td></tr></table></figure>
<h2 id="Linked-Lists-2">Linked Lists</h2>
<h3 id="Q12-Flip-Two">Q12: Flip Two</h3>
<p>Write a recursive function <code>flip_two</code> that takes as input a linked list <code>s</code> and mutates <code>s</code> so that every pair of values in the linked list is flipped.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">def flip_two(s):</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    &gt;&gt;&gt; one_lnk = Link(1)</span><br><span class="line">    &gt;&gt;&gt; flip_two(one_lnk)</span><br><span class="line">    &gt;&gt;&gt; one_lnk</span><br><span class="line">    Link(1)</span><br><span class="line">    &gt;&gt;&gt; lnk = Link(1, Link(2, Link(3, Link(4, Link(5)))))</span><br><span class="line">    &gt;&gt;&gt; flip_two(lnk)</span><br><span class="line">    &gt;&gt;&gt; lnk</span><br><span class="line">    Link(2, Link(1, Link(4, Link(3, Link(5)))))</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    &quot;*** YOUR CODE HERE ***&quot;</span><br><span class="line"></span><br><span class="line">    # For an extra challenge, try writing out an iterative approach as well below!</span><br><span class="line">    &quot;*** YOUR CODE HERE ***&quot;</span><br></pre></td></tr></table></figure>
<p>Use Ok to test your code:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 ok -q flip_two✂️</span><br></pre></td></tr></table></figure>
</div><div class="tags"><a href="/tags/CS61A"><i class="fa fa-tag">CS61A</i></a></div><div class="post-nav"><a class="pre" href="/2022/05/23/CS61A-Proj-2/">CS61A Proj 2</a><a class="next" href="/2022/05/23/CS61A-Lab-7/">CS61A Lab 7</a></div><div id="tcomment"></div><script src="https://unpkg.com/twikoo@1.5.7/dist/twikoo.all.min.js"></script><script>twikoo.init({
  envId: 'https://twikoo-f8467x06b-misaka-9982-coder.vercel.app/',
  el: '#tcomment',
  region: '',
  path: ''
})</script></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"/><div id="local-search-result"></div></div></div><div class="widget"><div class="author-info"><a class="info-avatar" href="/about/" title="关于"><img class="nofancybox" src="/img/avatar.jpeg"/></a><p>Try to be better.</p><a class="info-icon" href="https://twitter.com/Misaka___9982" title="Twitter" target="_blank" style="margin-inline:5px"> <i class="fa fa-twitter-square" style="margin-inline:5px"></i></a><a class="info-icon" href="mailto:1784321894@qq.com" title="Email" target="_blank" style="margin-inline:5px"> <i class="fa fa-envelope-square" style="margin-inline:5px"></i></a><a class="info-icon" href="https://github.com/Misaka-9982-coder" title="Github" target="_blank" style="margin-inline:5px"> <i class="fa fa-github-square" style="margin-inline:5px"></i></a><a class="info-icon" href="/atom.xml" title="RSS" target="_blank" style="margin-inline:5px"> <i class="fa fa-rss-square" style="margin-inline:5px"></i></a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/OS/" style="font-size: 15px;">OS</a> <a href="/tags/6-S081/" style="font-size: 15px;">6.S081</a> <a href="/tags/Acwing/" style="font-size: 15px;">Acwing</a> <a href="/tags/Algorithm/" style="font-size: 15px;">Algorithm</a> <a href="/tags/CS144/" style="font-size: 15px;">CS144</a> <a href="/tags/Network/" style="font-size: 15px;">Network</a> <a href="/tags/CS188/" style="font-size: 15px;">CS188</a> <a href="/tags/AI/" style="font-size: 15px;">AI</a> <a href="/tags/CS61A/" style="font-size: 15px;">CS61A</a> <a href="/tags/CS61BL/" style="font-size: 15px;">CS61BL</a> <a href="/tags/Java/" style="font-size: 15px;">Java</a> <a href="/tags/Wireshark/" style="font-size: 15px;">Wireshark</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2023/06/28/Codewar-%E4%BD%93%E9%AA%8C/">Codewar 体验</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/03/15/6-S081-Lab-3-page-tables/">6.S081 Lab 3 page tables</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/03/14/6-S081-Lab-2-System-Calls/">6.S081-Lab 2: System Calls</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/03/10/6-S081-Lab-1-Xv6-and-Unix-utilities/">6.S081-Lab 1: Xv6 and Unix utilities</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/03/09/6-S081%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E5%8F%8A%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/">6.S081环境配置及参考资料</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/02/25/CS144-Lab7/">CS144-Lab7</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/02/25/CS144-Lab6/">CS144-Lab6</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/02/24/CS144-Lab5/">CS144-Lab5</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/02/20/Makefile-%E5%92%8C-CMake/">Makefile 和 CMake</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/02/19/CS144-Lab4/">CS144-Lab4</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="https://www.colopen-blog.com/" title="彩色铅笔" target="_blank">彩色铅笔</a><ul></ul><a href="https://www.selfknow.cn/" title="L2c" target="_blank">L2c</a><ul></ul><a href="https://blognas.hwb0307.com" title="浮云翩迁之间" target="_blank">浮云翩迁之间</a></div><div class="widget"><div class="widget-title"><i class="fa fa-heartbeat"> 访客地图</i></div></div><script id="clstr_globe" type="text/javascript" defer="defer" src="//clustrmaps.com/globe.js?d=NAGSI3cBPnTXd3xVo3V7zDC9xqeu_9ed2OCmGUj1uiw"></script><script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async="async"></script><div class="widget"><div class="widget-title"><i class="fa fa-tags"> 网站资讯</i></div><ul> </ul><div class="webinfo-item"><div class="item-name">本站访客数  : </div><div class="item-count" id="busuanzi_value_site_uv"></div></div><ul> </ul><div class="webinfo-item"><div class="item-name">本站总访问量  : </div><div class="item-count" id="busuanzi_value_site_pv"></div></div><ul></ul><div class="webinfo-item"><div class="item-name">本站总字数 : </div><div class="item-count">301k</div></div></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2021 - 2023 <a href="/." rel="nofollow">Misaka's blog.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.js"></script><script type="text/javascript" src="/js/fancybox.js?v=1.0.0"></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.css"><link rel="stylesheet" type="text/css" href="/css/search.css?v=1.0.0"><script type="text/javascript" src="/js/search.js?v=1.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
  search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="/js/copycode.js?v=1.0.0" successtext="复制成功！"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css?v=1.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script></div></body></html>