<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content=""><title>Wireshark-Lab7 ICMP | Misaka's blog</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/latest/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/grids-responsive-min.min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/latest/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><script type="text/javascript" src="//lib.baomitu.com/clipboard.js/latest/clipboard.min.js"></script><script type="text/javascript" src="//lib.baomitu.com/toastr.js/latest/toastr.min.js"></script><link rel="stylesheet" href="//lib.baomitu.com/toastr.js/latest/toastr.min.css"><script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle = window.adsbygoogle || []).push({google_ad_client: "ca-pub-5060306535186583", enable_page_level_ads: true});</script><meta name="generator" content="Hexo 6.0.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Wireshark-Lab7 ICMP</h1><a id="logo" href="/.">Misaka's blog</a><p class="description"></p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a><a href="/messageboard/"><i class="fa fa fa-comments"> 留言版</i></a><a href="/link/"><i class="fa fa fa-external-link"> 友链</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Wireshark-Lab7 ICMP</h1><div class="post-meta">2022-03-07<span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> 阅读</span></span><span class="post-time"><span class="post-meta-item-text"> | </span><span class="post-meta-item-icon"><i class="fa fa-keyboard-o"></i><span class="post-count"> 4.3k</span><span class="post-meta-item-text"> 字</span></span></span><span class="post-time"> | <span class="post-meta-item-icon"><i class="fa fa-clock-o"></i><span class="post-count"> 20</span><span class="post-meta-item-text"> 分钟</span></span></span></div><div class="post-content"><h1>Lab7:ICMP</h1>
<p>In this lab, we’ll explore several aspects of the ICMP protocol:</p>
<p>在本实验中，我们将探讨 ICMP 协议的几个方面：</p>
<ul>
<li>
<p>ICMP messages generating by the Ping program;</p>
<p>Ping 程序生成的 ICMP 消息;</p>
</li>
<li>
<p>ICMP messages generated by the Traceroute program;</p>
<p>Traceroute 程序生成的 ICMP 消息;</p>
</li>
<li>
<p>the format and contents of an ICMP message.</p>
<p>ICMP 消息的格式和内容。</p>
</li>
</ul>
<p>Before attacking this lab, you’re encouraged to review the ICMP material in section 5.6 of the text1 . We present this lab in the context of the Microsoft Windows operating system. However, it is straightforward to translate the lab to a Unix or Linux environment.</p>
<p>在开始本实验之前，我们建议您查看课本的 5.6 节中的 ICMP 章节。此实验是在Windows 下完成的，如果您使用其他系统也不用担心，因为大体都相同。</p>
<h2 id="1-ICMP-and-Ping-ICMP-协议和-Ping-程序">1. ICMP and Ping ICMP 协议和 Ping 程序</h2>
<p>Let’s begin our ICMP adventure by capturing the packets generated by the Ping program. You may recall that the Ping program is simple tool that allows anyone (for example, a network administrator) to verify if a host is live or not. The Ping program in the source host sends a packet to the target IP address; if the target is live, the Ping program in the target host responds by sending a packet back to the source host. As you might have guessed (given that this lab is about ICMP), both of these Ping packets are ICMP packets.</p>
<p>让我们通过捕获 Ping 程序生成的数据包开始我们的 ICMP 实验。 您可能还记得Ping 程序是一个简单的工具，允许任何人（例如：网络管理员）验证主机是否存标主机中的 Ping 程序将会发送响应 Ping 数据包证明他在线，这两个 Ping 数据包都是 ICMP 数据包。 因此您可能猜出我们这个实验都是关于 ICMP 的实验了。</p>
<p>Do the following : 请按照以下动作做：</p>
<ul>
<li>
<p>Let’s begin this adventure by opening the Windows Command Prompt application (which can be found in your Accessories folder). 打开 windows 的命令提示符。</p>
</li>
<li>
<p>Start up the Wireshark packet sniffer, and begin Wireshark packet capture.</p>
<p>启动 Wireshark 数据包嗅探器，并开始 Wireshark 数据包捕获。</p>
</li>
<li>
<p>The <em>ping</em> command is in c:\windows\system32, so type either “<em>ping –n 10</em> <em>hostname</em>” or “<em>c:\windows\system32\ping –n 10 hostname</em>” in the MS-DOS command line (without quotation marks), where hostname is a host on another continent. If you’re outside of Asia, you may want to enter <a target="_blank" rel="noopener" href="http://www.ust.hk">www.ust.hk</a> for the Web server at Hong Kong University of Science and Technology. The argument <em>“-n 10</em>” indicates that 10 ping messages should be sent. Then run the Ping program by typing return.</p>
<p>Ping 程序在 c:\windows\system32 目录中，所以您在命令提示符中输入“<em>ping</em> <em>–n 10 hostname</em>” 或 “<em>c:\windows\system32\ping –n 10 hostname</em>”都是正确的（注意命令是引号里的内容）。其中 hostname 是另一个大陆的主机名。如您如果在非亚洲地区，建议您访问香港科技大学 <a target="_blank" rel="noopener" href="http://www.ust.hk">www.ust.hk</a> ， 参数-n 10代表发送 10 个 Ping 消息，然后按下回车执行命令。</p>
</li>
<li>
<p>When the Ping program terminates, stop the packet capture in Wireshark.</p>
<p>当 Ping 程序终止时，停止在 Wireshark 中捕获数据包。</p>
</li>
</ul>
<p>At the end of the experiment, your Command Prompt Window should look something like Figure 1. In this example, the source ping program is in Massachusetts and the destination Ping program is in Hong Kong. From this window we see that the source ping program sent 10 query packets and received 10 responses. Note also that for each response, the source calculates the round-trip time (RTT), which for the 10 packets is on average 375 msec.</p>
<p>在实验结束时，您的命令提示符窗口应如图 1 所示。在此示例中，源 ping 程序位于马萨诸塞州，目标 Ping 程序位于香港。 从这个窗口我们看到源 ping 程序发送了10 个查询包并收到了 10 个响应。 另请注意，对于每个响应，源计算往返时间（RTT），对于 10 个数据包平均为 375 毫秒。</p>
<p><img src="https://img-blog.csdnimg.cn/5c68ca9062e34fd490909f0d86911b72.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBATUlOR2dvUw==,size_20,color_FFFFFF,t_70,g_se,x_16" alt=""></p>
<center>Figure 1 Command Prompt window after entering Ping command. </center>
 <center> 	图 1 输入 Ping 命令后的命令提示符窗口。</center>
<p>Figure 2 provides a screenshot of the Wireshark output, after “icmp” has been entered into the filter display window. Note that the packet listing shows 20 packets: the 10 Ping queries sent by the source and the 10 Ping responses received by the source. Also note that the source’s IP address is a private address (behind a NAT) of the form 192.168/12; the destination’s IP address is that of the Web server at HKUST. Now let’s zoom in on the first packet (sent by the client); in the figure below, the packet contents area provides information about this packet. We see that the IP datagram within this packet has protocol number 01, which is the protocol number for ICMP. This means that the payload of the IP datagram is an ICMP packet.</p>
<p>如图 2，在将“icmp”输入过滤器显示窗口后 Wireshark 输出的屏幕截图。 请注意，数据包列表显示 20 个数据包：源发送的 10 个 Ping 查询和源接收的 10 个 Ping 响应。 另请注意，源的 IP 地址是 192.168 / 12 格式的私有地址（通过 NAT 协议连接互联网）; 目的地的 IP 地址是香港科技大学网络服务器的 IP 地址。 现在让我们点击显示第一个由客户端发送的数据包; 在图中的下方，数据包内容区域提供有关此数据包的信息。 我们看到该数据包中的 IP 数据报具有协议号 01，这是 ICMP 的协议号。 这意味着 IP 数据报的有效载荷是 ICMP 数据包。</p>
<p><img src="https://img-blog.csdnimg.cn/0e2bdf369dbc466a80ede9baeb12eb22.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBATUlOR2dvUw==,size_20,color_FFFFFF,t_70,g_se,x_16" alt=""></p>
<center>Figure 2 Wireshark output for Ping program with Internet Protocol expanded. </center>
<center>图 2 在 Wireshark 中过滤 ICMP 协议并且选中某个 ICMP 消息</center>
<p>Figure 3 focuses on the same ICMP but has expanded the ICMP protocol information in the packet contents window. Observe that this ICMP packet is of Type 8 and Code 0 - a so-called ICMP “echo request” packet. (See Figure 5.19 of text.) Also note that this ICMP packet contains a checksum, an identifier, and a sequence number.</p>
<p>图 3 同样使用相同的 ICMP 过滤器，展开可以看到该 ICMP 包的详情信息。 观察到该 ICMP 数据包是类型 8 和代码 0 ——所谓的 ICMP“回应请求”数据包。 （请参见书本的图 5.19。）此外，此 ICMP 数据包包含校验和，标识符和序列号。</p>
<p><img src="https://img-blog.csdnimg.cn/95d6bff9624d4b68aefe55b3ca0789f8.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBATUlOR2dvUw==,size_20,color_FFFFFF,t_70,g_se,x_16" alt=""></p>
<center>Figure 3 Wireshark capture of ping packet with ICMP packet expanded. </center>
<center>图 3 选择展开 ICMP 包的详情信息</center>
<p><strong>What to Hand In: 回答问题</strong></p>
<p>You should hand in a screen shot of the Command Prompt window similar to Figure 1 above. Whenever possible, when answering a question below, you should hand in a printout of the packet(s) within the trace that you used to answer the question asked. Annotate the printout3 to explain your answer. To print a packet, use <em>File-&gt;Print</em>, choose <em>Selected packet only</em>, choose <em>Packet summary line,</em> and select the minimum amount of packet detail that you need to answer the question.</p>
<p>请善用标记来展示您的答案请尽量清晰的展示您的答案，必要时您可以在图中用标记辅以说明。您的答案应该简单可读。</p>
<p>You should answer the following questions: 请回答以下问题：</p>
<p><img src="https://img-blog.csdnimg.cn/94c3cdf645cf4aaea34b438bde8c6a19.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBATUlOR2dvUw==,size_20,color_FFFFFF,t_70,g_se,x_16" alt=""></p>
<ol>
<li>
<p>What is the IP address of your host? What is the IP address of the destination host?</p>
<p>您的主机的 IP 地址是多少？ 目标主机的 IP 地址是多少？</p>
<ul>
<li>我的主机IP：192.168.1.101</li>
<li>目标主机IP：143.89.14.34</li>
</ul>
</li>
<li>
<p>Why is it that an ICMP packet does not have source and destination port numbers?</p>
<p>为什么 ICMP 数据包没有源端口号和目的端口号？</p>
<p><em>The ICMP packet does not have source and destination port numbers because it was designed to communicate network-layer information between hosts and routers, not between application layer processes. Each ICMP packet has a “Type” and a “Code”. The Type/Code combination identifies the specific message being received. Since the network software itself interprets all ICMP messages, no port numbers are needed to direct the ICMP message to an application layer process.</em></p>
<p>ICMP数据包没有源端口号和目的端口号，因为它旨在主机和路由器之间通信网络层信息，而不是在应用层进程之间。每个ICMP数据包都有一个“类型”和一个“代码”。类型/代码组合标识正在接收的特定消息。由于网络软件本身解释所有ICMP消息，因此不需要端口号将ICMP消息定向到应用层进程。</p>
</li>
<li>
<p>Examine one of the ping request packets sent by your host. What are the ICMP type and code numbers? What other fields does this ICMP packet have? How many bytes are the checksum, sequence number and identifier fields?</p>
<p>查看任意的请求 ICMP 数据包， ICMP 类型和代码是什么？ 该 ICMP 数据包还有哪些其他字段？ 校验和，序列号和标识符字段有多少字节？</p>
<p><img src="https://img-blog.csdnimg.cn/278351a136784718babd7f5f17cb898b.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBATUlOR2dvUw==,size_20,color_FFFFFF,t_70,g_se,x_16" alt=""></p>
<p><em>The ICMP type is 8, and the code number is 0. The ICMP packet also has checksum, identifier, sequence number, and data fields. The checksum, sequence number and identifier fields are two bytes each.</em></p>
<p>ICMP类型为8，码号为0，ICMP数据包还具有Checksum、Identifier、Sequence Number和Data字段。校验和、序列号和标识符字段各为两个字节。</p>
</li>
<li>
<p>Examine the corresponding ping reply packet. What are the ICMP type and code numbers? What other fields does this ICMP packet have? How many bytes are the checksum, sequence number and identifier fields?</p>
<p>查看任意的响应 ICMP 数据包， ICMP 类型和代码是什么？ 该 ICMP 数据包还有哪些其他字段？ 校验和，序列号和标识符字段有多少字节？</p>
<p><img src="https://img-blog.csdnimg.cn/b7a689c90d6b4f95bf5c5dae2cbdac55.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBATUlOR2dvUw==,size_20,color_FFFFFF,t_70,g_se,x_16" alt=""></p>
<p><em>The ICMP type is 0, and the code number is 0. The ICMP packet also has checksum, identifier, sequence number, and data fields. The checksum, sequence number and identifier fields are two bytes each.</em></p>
<p>ICMP类型为8，码号为0，ICMP数据包还具有Checksum、Identifier、Sequence Number和Data字段。校验和、序列号和标识符字段各为两个字节。</p>
</li>
</ol>
<h2 id="2-ICMP-and-Traceroute-ICMP-协议和-Traceroute-命令">2. ICMP and Traceroute ICMP 协议和 Traceroute 命令</h2>
<p>Let’s now continue our ICMP adventure by capturing the packets generated by the Traceroute program. You may recall that the Traceroute program can be used to figure out the path a packet takes from source to destination. Traceroute is discussed in Section 1.4 and in Section 5.6 of the text.</p>
<p>现在让我们通过捕获 Traceroute 程序生成的数据包继续我们的 ICMP 实验。 您可能还记得 Traceroute 程序可用于确定数据包从源到目的地的路径。 Traceroute 命令可以在课本中的 1.4 节和 5.6 节中找到。</p>
<p>Traceroute is implemented in different ways in Unix/Linux/MacOS and in Windows. In Unix/Linux, the source sends a series of UDP packets to the target destination using an unlikely destination port number; in Windows, the source sends a series of ICMP packets to the target destination. For both operating systems, the program sends the first packet with TTL=1, the second packet with TTL=2, and so on. Recall that a router will decrement a packet’s TTL value as the packet passes through the router. When a packet arrives at a router with TTL=1, the router sends an ICMP error packet back to the source. In the following, we’ll use the native Windows <em>tracert</em> program. A shareware version of a much nice Windows Traceroute program is <em>pingplotter</em> (<a target="_blank" rel="noopener" href="http://www.pingplotter.com">www.pingplotter.com</a>). We’ll use <em>pingplotter</em> in our Wireshark IP lab since it provides additional functionality that we’ll need there.</p>
<p>每个系统有不同路由跟踪实现办法，在 Unix / Linux 中，路由跟踪 traceroute 使用发送不可到达（无使用的）端口的 UDP 包来实现，在 Windows 中，路由跟踪tracert 仅使用 ICMP 数据包来实现，但是对于他们来说，都是发送 TTL 增加的数据包，例如 TTL=1,TTL=2，回想下，每经过一个路由器，TTL 就会减一，当 TTL=1的包达到路由器，该路由器会将该包丢弃，并且发送 ICMP 错误给请求的机器，在本次实验，我们使用 window 自带的 tracert。有一个跨平台 Windows Traceroute 程序的是 pingplotter（<a target="_blank" rel="noopener" href="http://www.pingplotter.com">www.pingplotter.com</a>）（收费但可以试用）。 我们将在Wireshark IP 实验室中使用 pingplotter，因为它提供了我们在那里需要的其他功能。</p>
<p>Do the following4 : 请执行以下步骤</p>
<ul>
<li>
<p>Let’s begin by opening the Windows Command Prompt application (which can be found in your Accessories folder).</p>
<p>打开 windows 的命令提示符。</p>
</li>
<li>
<p>Start up the Wireshark packet sniffer, and begin Wireshark packet capture.</p>
<p>启动 Wireshark 数据包嗅探器，并开始 Wireshark 数据包捕获。</p>
</li>
<li>
<p>The <em>tracert</em> command is in c:\windows\system32, so type either “<em>tracert</em> <em>hostname</em>” or “<em>c:\windows\system32\tracert hostname</em>” in the MS-DOS command line (without quotation marks), where hostname is a host on another continent. (Note that on a Windows machine, the command is “<em>tracert</em>” and not “<em>traceroute</em>”.) If you’re outside of Europe, you may want to enter <a target="_blank" rel="noopener" href="http://www.inria.fr">www.inria.fr</a> for the Web server at INRIA, a computer science research institute in France. Then run the Traceroute program by typing return.</p>
<p>tracert 程序在 c:\windows\system32 目录中，所以您在命令提示符中输入“<em>tracert hostname</em>” 或 “<em>c:\windows\system32\ tracert hostname</em>”都是正确的（注意命令是引号里的内容）。其中 hostname 是另一个大陆的主机名。如您如果在非欧洲地区，建议您访问法国 INRIA（计算机科学研究所）<a target="_blank" rel="noopener" href="http://www.inria.fr">www.inria.fr</a> 然后按下回车执行命令。</p>
</li>
<li>
<p>When the Traceroute program terminates, stop packet capture in Wireshark.</p>
<p>当 Traceroute 程序终止时，停止在 Wireshark 中捕获数据包。</p>
</li>
</ul>
<p>At the end of the experiment, your Command Prompt Window should look something like Figure 4. In this figure, the client Traceroute program is in Massachusetts and the target destination is in France. From this figure we see that for each TTL value, the source program sends three probe packets. Traceroute displays the RTTs for each of the probe packets, as well as the IP address (and possibly the name) of the router that returned the ICMP TTL-exceeded message.</p>
<p>在实验结束时，您的命令提示符窗口应如图 4 所示。在此图中，客户端 Traceroute程序主机位于马萨诸塞州，目标主机位于法国。 从该图中我们看到，对于每个TTL 值，源程序发送三个探测包。 Traceroute 显示每个探测包的 RTT，以及返回ICMP TTL 超出消息的路由器的 IP 地址（可能还有名称）。</p>
<p><img src="https://img-blog.csdnimg.cn/b49c75f77aa043898f910e73479e1146.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBATUlOR2dvUw==,size_20,color_FFFFFF,t_70,g_se,x_16" alt=""></p>
<center>Figure 4 Command Prompt window displays the results of the Traceroute program. </center>
<center>图 4“命令提示符”窗口显示 Traceroute 程序的结果。</center>
<p>Figure 5 displays the Wireshark window for an ICMP packet returned by a router. Note that this ICMP error packet contains many more fields than the Ping ICMP messages.</p>
<p>图 5 显示了路由器返回的 ICMP 数据包的 Wireshark 窗口。 请注意，此 ICMP 错误数据包包含的字段比 Ping ICMP 消息多得多。</p>
<p><img src="https://img-blog.csdnimg.cn/91c3f8b912e74db1aae49cc1e3c423cf.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBATUlOR2dvUw==,size_20,color_FFFFFF,t_70,g_se,x_16" alt=""></p>
<center>Figure 5 Wireshark window of ICMP fields expanded for one ICMP error packet. </center>
<center>图 5 为一个 ICMP 错误数据包扩展的 ICMP 字段的 Wireshark 窗口。</center>
<p><strong>What to Hand In: 回答问题</strong></p>
<p>For this part of the lab, you should hand in a screen shot of the Command Prompt window. Whenever possible, when answering a question below, you should hand in a printout of the packet(s) within the trace that you used to answer the question asked. Annotate the printout to explain your answer. To print a packet, use <em>File-&gt;Print</em>, choose <em>Selected packet only</em>, choose <em>Packet summary line,</em> and select the minimum amount of packet detail that you need to answer the question.</p>
<p>请尽量清晰的展示您的答案，必要时您可以在图中用标记辅以说明。您的答案应该简单可读。</p>
<p>Answer the following questions: 请回答以下问题：</p>
<ol start="5">
<li>
<p>What is the IP address of your host? What is the IP address of the target destination host?</p>
<p>您的主机的 IP 地址是多少？ 目标目标主机的 IP 地址是多少？</p>
<ul>
<li>我的主机IP：192.168.1.101</li>
<li>目标主机IP：138.96.146.2</li>
</ul>
</li>
<li>
<p>If ICMP sent UDP packets instead (as in Unix/Linux), would the IP protocol number still be 01 for the probe packets? If not, what would it be?</p>
<p>如果 ICMP 发送了 UDP 数据包（如在 Unix / Linux 中），那么探测数据包的IP 协议号仍然是 01 吗？ 如果没有，它会是什么？</p>
<p><em>No. If ICMP sent UDP packets instead, the IP protocol number should be 0x11.</em></p>
<p>不，如果ICMP改为发送UDP数据包，则IP协议号应为0x11。</p>
</li>
<li>
<p>Examine the ICMP echo packet in your screenshot. Is this different from the ICMP ping query packets in the first half of this lab? If yes, how so?</p>
<p>检查屏幕截图中的 ICMP 响应数据包。 这与本实验的前半部分中的 ICMP ping 查询数据包不同吗？ 如果不同，请解释为什么？</p>
<p><em>The ICMP echo packet has the same fields as the ping query packets.</em></p>
<p><img src="https://img-blog.csdnimg.cn/691fb8921a5247faab0b223ee3da50f0.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBATUlOR2dvUw==,size_20,color_FFFFFF,t_70,g_se,x_16" alt=""></p>
</li>
<li>
<p>Examine the ICMP error packet in your screenshot. It has more fields than the ICMP echo packet. What is included in those fields?</p>
<p>检查屏幕截图中的 ICMP 错误数据包。 它具有比 ICMP 响应数据包更多的字段。 这个数据包含哪些内容？</p>
<p><em>The ICMP error packet is not the same as the ping query packets. It contains both the IP header and the first 8 bytes of the original ICMP packet that the error is for.</em></p>
<p><em>ICMP错误包与ping查询包不同它包含错误所针对的原始ICMP数据包的IP标头和前8个字节。</em></p>
<ul>
<li>错误数据包<img src="https://img-blog.csdnimg.cn/06a604d233fc4fd99a39576bf3222e0a.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBATUlOR2dvUw==,size_20,color_FFFFFF,t_70,g_se,x_16" alt=""></li>
<li>原始ICMP数据包<img src="https://img-blog.csdnimg.cn/2641c98228d74ce98dfde921ae28825d.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBATUlOR2dvUw==,size_20,color_FFFFFF,t_70,g_se,x_16" alt=""></li>
</ul>
</li>
<li>
<p>Examine the last three ICMP packets received by the source host. How are these packets different from the ICMP error packets? Why are they different?</p>
<p>检查源主机收到的最后三个 ICMP 数据包。 这些数据包与 ICMP 错误数据包有何不同？ 他们为什么不同？</p>
<p><em>The last three ICMP packets are message type 0 (echo reply) rather than 11 (TTL expired). They are different because the datagrams have made it all the way to the destination host before the TTL expired.</em></p>
<p><em>最后三个ICMP数据包是消息类型0(回应回复)，而不是11(TTL过期)。它们是不同的，因为数据报在TTL到期之前一直到达目标主机。</em></p>
<p><img src="https://img-blog.csdnimg.cn/9b08945f7f6b490c966f7b43308cb9bd.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBATUlOR2dvUw==,size_20,color_FFFFFF,t_70,g_se,x_16" alt=""></p>
<p><img src="https://img-blog.csdnimg.cn/6575758d7e8947408b96ad732293ad28.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBATUlOR2dvUw==,size_20,color_FFFFFF,t_70,g_se,x_16" alt=""></p>
</li>
<li>
<p>Within the tracert measurements, is there a link whose delay is significantly longer than others? Refer to the screenshot in Figure 4, is there a link whose delay is significantly longer than others? On the basis of the router names, can you guess the location of the two routers on the end of this link?</p>
<p>在 tracert 跟踪测量中，是否有一个连接的延迟比其他连接长得多？ 请参阅图 4 中的屏幕截图，是否有连接的延迟明显长于其他连接？ 根据路由器名称，您能猜出这个连接末端的两个路由器的位置吗？</p>
<p><em>There is a link between steps 11 and 12 that has a significantly longer delay. This is a transatlantic link from New York to Aubervilliers, France. In figure 4 from the lab, the link is from New York to Pastourelle, France.</em></p>
<p><img src="https://img-blog.csdnimg.cn/0a37e025ec554ea5b8cbe35698945424.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBATUlOR2dvUw==,size_20,color_FFFFFF,t_70,g_se,x_16" alt=""></p>
</li>
</ol>
<h2 id="3-Extra-Credit-额外问题">3. Extra Credit 额外问题</h2>
<p>For one of the programming assignments you created a UDP client ping program. This ping program, unlike the standard ping program, sends UDP probe packets rather than ICMP probe packets. Use the client program to send a UDP packet with an unusual destination port number to some live host. At the same time, use Wireshark to capture any response from the target host. Provide a Wireshark screenshot for the response as well as an analysis of the response.</p>
<p>对于一个编程任务，您可能创建了一个 UDP 客户端 ping 程序。 与标准 ping 程序不同，此 ping 程序发送 UDP 探测包而不是 ICMP 探测包。 使用客户端程序将具有异常目标端口号的 UDP 数据包发送到某个活动主机。 同时，使用 Wireshark 捕获目标主机的任何响应。 提供响应的 Wireshark 屏幕截图以及响应分析。</p>
</div><div class="tags"><a href="/tags/Network"><i class="fa fa-tag">Network</i></a><a href="/tags/Wireshark"><i class="fa fa-tag">Wireshark</i></a></div><div class="post-nav"><a class="pre" href="/2022/03/08/Wireshark-Lab8/">Wireshark-Lab8 DHCP</a><a class="next" href="/2022/03/04/Wireshark-Lab6/">Wireshark-Lab6 IP</a></div><div id="tcomment"></div><script src="https://unpkg.com/twikoo@1.5.7/dist/twikoo.all.min.js"></script><script>twikoo.init({
  envId: 'https://twikoo-f8467x06b-misaka-9982-coder.vercel.app/',
  el: '#tcomment',
  region: '',
  path: ''
})</script></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"/><div id="local-search-result"></div></div></div><div class="widget"><div class="author-info"><a class="info-avatar" href="/about/" title="关于"><img class="nofancybox" src="/img/avatar.jpeg"/></a><p>Try to be better.</p><a class="info-icon" href="https://twitter.com/Misaka___9982" title="Twitter" target="_blank" style="margin-inline:5px"> <i class="fa fa-twitter-square" style="margin-inline:5px"></i></a><a class="info-icon" href="mailto:1784321894@qq.com" title="Email" target="_blank" style="margin-inline:5px"> <i class="fa fa-envelope-square" style="margin-inline:5px"></i></a><a class="info-icon" href="https://github.com/Misaka-9982-coder" title="Github" target="_blank" style="margin-inline:5px"> <i class="fa fa-github-square" style="margin-inline:5px"></i></a><a class="info-icon" href="/atom.xml" title="RSS" target="_blank" style="margin-inline:5px"> <i class="fa fa-rss-square" style="margin-inline:5px"></i></a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/OS/" style="font-size: 15px;">OS</a> <a href="/tags/6-S081/" style="font-size: 15px;">6.S081</a> <a href="/tags/Acwing/" style="font-size: 15px;">Acwing</a> <a href="/tags/Algorithm/" style="font-size: 15px;">Algorithm</a> <a href="/tags/CS144/" style="font-size: 15px;">CS144</a> <a href="/tags/Network/" style="font-size: 15px;">Network</a> <a href="/tags/CS188/" style="font-size: 15px;">CS188</a> <a href="/tags/AI/" style="font-size: 15px;">AI</a> <a href="/tags/CS61A/" style="font-size: 15px;">CS61A</a> <a href="/tags/CS61BL/" style="font-size: 15px;">CS61BL</a> <a href="/tags/Java/" style="font-size: 15px;">Java</a> <a href="/tags/Wireshark/" style="font-size: 15px;">Wireshark</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2023/03/15/6-S081-Lab-3-page-tables/">6.S081 Lab 3 page tables</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/03/14/6-S081-Lab-2-System-Calls/">6.S081-Lab 2: System Calls</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/03/10/6-S081-Lab-1-Xv6-and-Unix-utilities/">6.S081-Lab 1: Xv6 and Unix utilities</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/03/09/6-S081%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E5%8F%8A%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/">6.S081环境配置及参考资料</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/02/25/CS144-Lab7/">CS144-Lab7</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/02/25/CS144-Lab6/">CS144-Lab6</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/02/24/CS144-Lab5/">CS144-Lab5</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/02/20/Makefile-%E5%92%8C-CMake/">Makefile 和 CMake</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/02/19/CS144-Lab4/">CS144-Lab4</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/02/19/CS144-Lab3/">CS144-Lab3</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="https://www.colopen-blog.com/" title="彩色铅笔" target="_blank">彩色铅笔</a><ul></ul><a href="https://www.selfknow.cn/" title="L2c" target="_blank">L2c</a><ul></ul><a href="https://blognas.hwb0307.com" title="浮云翩迁之间" target="_blank">浮云翩迁之间</a></div><div class="widget"><div class="widget-title"><i class="fa fa-heartbeat"> 访客地图</i></div></div><script id="clstr_globe" type="text/javascript" defer="defer" src="//clustrmaps.com/globe.js?d=NAGSI3cBPnTXd3xVo3V7zDC9xqeu_9ed2OCmGUj1uiw"></script><script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async="async"></script><div class="widget"><div class="widget-title"><i class="fa fa-tags"> 网站资讯</i></div><ul> </ul><div class="webinfo-item"><div class="item-name">本站访客数  : </div><div class="item-count" id="busuanzi_value_site_uv"></div></div><ul> </ul><div class="webinfo-item"><div class="item-name">本站总访问量  : </div><div class="item-count" id="busuanzi_value_site_pv"></div></div><ul></ul><div class="webinfo-item"><div class="item-name">本站总字数 : </div><div class="item-count">300.4k</div></div></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2021 - 2023 <a href="/." rel="nofollow">Misaka's blog.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.js"></script><script type="text/javascript" src="/js/fancybox.js?v=1.0.0"></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.css"><link rel="stylesheet" type="text/css" href="/css/search.css?v=1.0.0"><script type="text/javascript" src="/js/search.js?v=1.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
  search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="/js/copycode.js?v=1.0.0" successtext="复制成功！"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css?v=1.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script></div></body></html>